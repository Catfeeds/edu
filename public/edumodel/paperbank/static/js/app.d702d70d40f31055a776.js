webpackJsonp([1],{"/wAv":function(e,t){e.exports="data:image/png;base64,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"},"2dTD":function(e,t,s){"use strict";(function(e){t.a={data:function(){return{search:{keywords:"",examtype:"",status:"",check:""},page:{currentPage:1,pageSize:5,total:0},paperexamtypeList:this.Const.paperexamtypeList,papercheckList:this.Const.papercheckList,sideshowhide:!1,dialogVisible:!1,paperList:[]}},mounted:function(){this.showhideSideBar(),this.requestFn()},methods:{requestFn:function(){var e=this,t={module:"exam",controller:"Quiz",action:"getQuizList",classroom:this.Const.courseData.query.d,keywords:this.search.keywords,examtype:this.search.examtype,check:this.search.check,page:this.page.currentPage,rows:this.page.pageSize};this.$ajax.post(this.Const.apiUrl,t).then(function(t){console.log(t);var s=t.data;0==s.status?(e.page.currentPage=s.data.page.current_page,e.page.total=s.data.page.total,e.paperList=s.data.data):e.$message({type:"info",message:s.data?s.data:"获取试卷失败！"})}).catch(function(t){e.$message({type:"error",message:t.message})})},fncreate:function(){this.$router.push({path:"/position/posi"})},fneditsj:function(e){this.$router.push({path:"/position/posi?id="+e})},fneditst:function(e){this.$router.push({path:"/posi/additems?id="+e})},fnPreview:function(e){this.$router.push({path:"/posi/previewtest",query:{d:e}})},fnApply:function(e){var t=this;this.$ajax.post(this.Const.apiUrl,{module:"exam",controller:"Quiz",action:"applyAudit",id:e}).then(function(e){var s=e.data;0==s.status?t.$message({type:"success",message:"申请审核成功，其他管理员可以审核了！"}):t.$message({type:"info",message:s.data?s.data:"申请审核失败！"})}).catch(function(e){t.$message({type:"error",message:"申请审核错误！"})})},showhideSideBar:function(){var t=this;e(window).scroll(function(){var s=e(document).scrollTop();t.sideshowhide=s>400})},fnGoTop:function(){e("html, body").animate({scrollTop:"0"})},handleSizeChange:function(e){this.page.pageSize=e,this.requestFn()},handleCurrentChange:function(e){this.page.currentPage=e,this.requestFn()},fndelete:function(e){var t=this;this.$confirm("此操作将永久删除该试卷, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var s={module:"exam",controller:"Quiz",action:"delQuiz",id:e};t.$ajax.post(t.Const.apiUrl,s).then(function(e){console.log("删除数据",e.data),0==e.data.status?(t.$message({type:"success",message:"删除成功！"}),t.requestFn()):t.$message({type:"info",message:e.data.data?e.data.data:"删除失败！"})}).catch(function(e){t.$message({type:"error",message:res.data.data?res.data.data:"删除失败！"})})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},fnAddposition:function(){this.$router.push({path:"/paper/Addposition"})}},computed:{}}}).call(t,s("L7Pj"))},"4G2n":function(e,t){},"9VSK":function(e,t){},FgHz:function(e,t){},"G+j3":function(e,t){},JjQR:function(e,t){},K1PS:function(e,t){},NHnr:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s("rVsN"),i=s.n(a),n=s("IvJb"),r={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[this._m(0),this._v(" "),t("div",{staticClass:"whiteboard"}),this._v(" "),t("section",{staticClass:"main clearfix",attrs:{id:"index-content"}},[t("div",{attrs:{id:"paper-content"}},[t("keep-alive",[t("router-view")],1)],1)])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("header",{attrs:{id:"nav"}},[t("div",{staticClass:"nav-wrap"},[t("div",{staticClass:"nav-center"},[t("div",{staticClass:"main clearfix"},[t("p",{staticClass:"nav-location fl"},[t("a",{attrs:{href:"javascript:void(0);"}},[t("img",{attrs:{src:s("/wAv"),width:"286",height:"54",alt:""}})])]),this._v(" "),t("div",{staticClass:"nav-fun fr"},[t("p",{staticClass:"top-status fr"},[t("span",[this._v("[ \n                "),t("a",{attrs:{href:"javascript:void(0);"}},[this._v("退出")]),this._v(" ]")])])])])])])])}]};var o=s("C7Lr")({name:"App"},r,!1,function(e){s("G+j3")},null,null).exports,l=s("zO6J"),c={data:function(){return{courseMsg:{courseName:"",number:"",teacher:"",posiNum:"",paperNum:""},latelypaperList:[{papername:"c语言期末考试",startTime:"2018-06-11 14:30",endTime:"2018-06-11 16:30",examinee:10,status:1},{papername:"计算机网络考试",startTime:"2018-06-11 14:30",endTime:"2018-06-11 16:30",examinee:10,status:1}]}},mounted:function(){this.requestMsg()},methods:{fnRoutePositon:function(){var e=this.$router.resolve({path:"/position"});window.open(e.href,"_blank")},fnRoutePaper:function(){var e=this.$router.resolve({path:"/paper"});window.open(e.href,"_blank")},examineing:function(){window.open(this.Const.STATIC,"_blank")},requestMsg:function(){this.courseMsg={courseName:"测试",number:"测试",teacher:"测试",posiNum:"2",paperNum:"2"}}}},u={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"bankindex paperbank main",attrs:{id:"paperbank"}},[s("aside",{staticClass:"aside"},[e._m(0),e._v(" "),s("div",{staticClass:"typeitem",on:{click:e.examineing}},[s("i",{staticClass:"el-icon-news"}),e._v(" "),s("span",[e._v("考试入口")])]),e._v(" "),e._m(1),e._v(" "),s("ul",{staticClass:"course-info"},[s("li",[s("span",{staticClass:"key"},[e._v("课程名称:")]),e._v(" "),s("span",{staticClass:"value"},[e._v(e._s(e.courseMsg.courseName))])]),e._v(" "),s("li",[s("span",{staticClass:"key"},[e._v("考试人数:")]),e._v(" "),s("span",{staticClass:"value"},[e._v(e._s(e.courseMsg.number))])]),e._v(" "),s("li",[s("span",{staticClass:"key"},[e._v("任课老师:")]),e._v(" "),s("span",{staticClass:"value"},[e._v(e._s(e.courseMsg.teacher))])])])]),e._v(" "),s("section",{staticClass:"section"},[s("div",{staticClass:"top-news"},[s("ul",{staticClass:"clearfix"},[s("li",{staticClass:"show"},[s("i",{staticClass:"el-icon-edit-outline"}),e._v(" "),s("p",[s("span",{staticClass:"num"},[e._v(e._s(e.courseMsg.paperNum))]),e._v("场")]),e._v(" "),s("p",[e._v("考试场次总数")])]),e._v(" "),s("li",{staticClass:"show"},[s("i",{staticClass:"el-icon-document"}),e._v(" "),s("p",[s("span",{staticClass:"num"},[e._v(e._s(e.courseMsg.posiNum))]),e._v("套")]),e._v(" "),s("p",[e._v("试卷总数")])]),e._v(" "),s("li",{staticClass:"add",on:{click:e.fnRoutePaper}},[s("i",{staticClass:"el-icon-circle-plus-outline"}),e._v(" "),s("p",[e._v("考试场次中心")])]),e._v(" "),s("li",{staticClass:"add",on:{click:e.fnRoutePositon}},[s("i",{staticClass:"el-icon-circle-plus-outline"}),e._v(" "),s("p",[e._v("试卷中心")])])])]),e._v(" "),s("div",{staticClass:"old-news"},[e._m(2),e._v(" "),s("el-table",{staticStyle:{},attrs:{data:e.latelypaperList,"max-height":"300",border:""}},[s("el-table-column",{attrs:{prop:"papername",label:"考试场次",width:"240"}}),e._v(" "),s("el-table-column",{attrs:{prop:"startTime",label:"开始时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-popover",{attrs:{trigger:"hover",placement:"top"}},[s("p",[e._v("结束时间: "+e._s(t.row.endTime))]),e._v(" "),s("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[s("i",{staticClass:"el-icon-time"}),e._v(" "),s("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.startTime))])])])]}}])}),e._v(" "),s("el-table-column",{attrs:{prop:"examinee",label:"考生人数",width:"100"}}),e._v(" "),s("el-table-column",{attrs:{prop:"status",label:"考试状态",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.status?s("el-tag",{attrs:{type:"success",size:"medium"}},[e._v("考试中")]):e._e(),e._v(" "),1==t.row.status?s("el-tag",{attrs:{type:"danger",size:"medium"}},[e._v("已结束")]):e._e()]}}])})],1),e._v(" "),s("p",{staticClass:"readmore",on:{click:e.fnRoutePaper}},[e._v("详  情")])],1)])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("p",{staticClass:"title"},[t("i",{staticClass:"el-icon-d-arrow-right"},[this._v("考试信息")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",{staticClass:"title"},[t("i",{staticClass:"el-icon-d-arrow-right"}),this._v("课程信息")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",{staticClass:"title"},[t("i",{staticClass:"el-icon-d-arrow-right"}),this._v("近期考试")])}]};var p=s("C7Lr")(c,u,!1,function(e){s("v+xG")},null,null).exports,d=s("2dTD"),m={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"bankindex questbank"},[s("aside",{staticClass:"aside"},[e._m(0),e._v(" "),s("div",{staticClass:"total-bank"},[s("span",[e._v("试卷总数")]),e._v(" "),s("p",[s("i",[e._v(e._s(e.page.total))]),e._v("套")])]),e._v(" "),s("div",{staticClass:"addbank",on:{click:function(t){e.fncreate()}}},[s("i",{staticClass:"el-icon-circle-plus"}),e._v(" "),s("span",[e._v("新建考试")])])]),e._v(" "),s("section",{staticClass:"wrap"},[s("div",{staticClass:"head-condition clearfix"},[s("p",{staticClass:"item-condition"},[s("el-input",{attrs:{placeholder:"输入试卷名称关键字搜索"},model:{value:e.search.keywords,callback:function(t){e.$set(e.search,"keywords",t)},expression:"search.keywords"}},[s("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:function(t){e.requestFn()}},slot:"append"})],1)],1),e._v(" "),s("el-radio-group",{on:{change:function(t){e.requestFn()}},model:{value:e.search.examtype,callback:function(t){e.$set(e.search,"examtype",t)},expression:"search.examtype"}},e._l(e.paperexamtypeList,function(t,a){return s("el-radio-button",{key:a,attrs:{label:t.value}},[e._v(e._s(t.name))])})),e._v(" "),s("p",{staticClass:"item-condition"},[s("el-select",{attrs:{placeholder:"请选择审核状态"},on:{change:function(t){e.requestFn()}},model:{value:e.search.check,callback:function(t){e.$set(e.search,"check",t)},expression:"search.check"}},e._l(e.papercheckList,function(e){return s("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})}))],1)],1),e._v(" "),s("div",{staticClass:"bank-list"},[s("el-table",{staticStyle:{width:"100%"},attrs:{data:e.paperList,stripe:"","max-height":"450",border:""}},[s("el-table-column",{attrs:{prop:"name",fixed:"",label:"试卷名称","show-overflow-tooltip":!0,width:"150"}}),e._v(" "),s("el-table-column",{attrs:{prop:"classroom",label:"课堂名","show-overflow-tooltip":!0,width:"150"}}),e._v(" "),s("el-table-column",{attrs:{prop:"examtype",label:"试卷用途",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-tag",{attrs:{size:"medium"}},[e._v(e._s(t.row.examtype))])]}}])}),e._v(" "),s("el-table-column",{attrs:{prop:"timelimit",label:"考试用时",width:"100"}}),e._v(" "),s("el-table-column",{attrs:{prop:"disparktime",label:"开放时间(分)",width:"150","show-overflow-tooltip":!0}}),e._v(" "),s("el-table-column",{attrs:{prop:"grade",label:"总分",width:"80"}}),e._v(" "),s("el-table-column",{attrs:{prop:"status",label:"审核状态",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.state_code||2==t.row.state_code||3==t.row.state_code||4==t.row.state_code||5==t.row.state_code?s("el-tag",{attrs:{type:"danger",size:"medium"}},[e._v(e._s(t.row.state))]):e._e(),e._v(" "),6==t.row.state_code?s("el-tag",{attrs:{type:"success",size:"medium"}},[e._v(e._s(t.row.state))]):e._e(),e._v(" "),7==t.row.state_code?s("el-tag",{attrs:{type:"danger",size:"medium"}},[e._v(e._s(t.row.state))]):e._e()]}}])}),e._v(" "),s("el-table-column",{attrs:{fixed:"right",label:"操作",width:"170"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{type:"text",size:"small"},on:{click:function(s){e.fndelete(t.row.id)}}},[e._v("删除")]),e._v(" "),s("el-button",{attrs:{type:"text",size:"small"},on:{click:function(s){e.fneditsj(t.row.id)}}},[e._v("试卷")]),e._v(" "),s("el-button",{attrs:{type:"text",size:"small"},on:{click:function(s){e.fneditst(t.row.id)}}},[e._v("试题")]),e._v(" "),s("el-button",{attrs:{type:"text",size:"small"},on:{click:function(s){e.fnPreview(t.row.id)}}},[e._v("预览")]),e._v(" "),5==t.row.state_code?s("el-button",{attrs:{type:"text",size:"small"},on:{click:function(s){e.fnPreview(t.row.id)}}},[e._v("审核")]):e._e(),e._v(" "),1==t.row.state_code?s("el-button",{attrs:{type:"text",size:"small"},on:{click:function(s){e.fnApply(t.row.id)}}},[e._v("申请审核")]):e._e()]}}])})],1)],1),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.sideshowhide,expression:"sideshowhide"}],staticClass:"flow-side-box"},[s("div",{staticClass:"go-top",attrs:{title:"回到顶部"},on:{click:e.fnGoTop}},[s("i",{staticClass:"el-icon-arrow-up"})]),e._v(" "),e._m(1)]),e._v(" "),s("div",{staticClass:"paging"},[s("el-pagination",{attrs:{background:"","current-page":e.page.currentPage,"page-sizes":[5,15,20,50],"page-size":e.page.pageSize,layout:"total,sizes,prev,pager,next,jumper",total:e.page.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("p",{staticClass:"title"},[t("i",{staticClass:"el-icon-d-arrow-right"}),this._v(" 课程试卷")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"add-bank-btn"},[t("i",{staticClass:"el-icon-circle-plus"}),this._v(" "),t("span",[this._v("添加试题")])])}]};var v=function(e){s("FgHz")},h=s("C7Lr")(d.a,m,!1,v,null,null).exports,f=s("HzJ8"),g=s.n(f),_=s("aA9S"),b=s.n(_),C={data:function(){return{props:{label:"name",children:"children",isLeaf:"leaf"},sections:[],ruleForm:{name:"",timerange:[new Date,new Date((new Date).getTime()+864e5)],attempts:"3",preferredbehaviour:"1",section:[],sections:[],intro:"",examtype:"1",timelimit:"",grademethod:"1",shufflequestions:"1",grade:""},questions:[{name:"单选题",qtype:"singlechoice",section:[],sections:[],score:"10",conf:[{diff:"难度1",num:"10"},{diff:"难度2",num:"20"}]},{name:"多选题",qtype:"multiplechoice",section:[],sections:[],score:"20",conf:[{diff:"难度1",num:"1"},{diff:"难度1",num:"2"}]},{name:"填空题",qtype:"shortanswer",section:[],sections:[],score:"每题分值",conf:[{diff:"难度1",num:""},{diff:"难度1",num:""}]},{name:"判断题",qtype:"truefalse",section:[],sections:[],score:"每题分值",conf:[{diff:"难度1",num:""},{diff:"难度1",num:""}]},{name:"匹配题",qtype:"match",section:[],sections:[],score:"每题分值",conf:[{diff:"难度1",num:""},{diff:"难度1",num:""}]},{name:"简答题",qtype:"essay",section:[],sections:[],score:"每题分值",conf:[{diff:"难度1",num:""},{diff:"难度1",num:""}]},{name:"综合题",qtype:"comprehensive",section:[],sections:[],score:"每题分值",conf:[{diff:"难度1",num:""},{diff:"难度1",num:""}]},{name:"阅读理解",qtype:"readingcomprehension",section:[],sections:[],score:"",conf:[{diff:"难度1",num:""},{diff:"难度1",num:""}]}],rules:{name:[{required:!0,message:"请输入场次名称",trigger:"blur"}],attempts:[{required:!0,message:"允许答题次数",trigger:"blur"}],intro:[{required:!0,message:"请输入试卷说明",trigger:"blur"}],section:[{required:!0,message:"请输入章ID",trigger:"blur"}],sections:[{required:!0,message:"请输入节ID",trigger:"blur"}],preferredbehaviou:[{required:!0,message:"请选择查看答卷时间",trigger:"change"}],examtype:[{required:!0,message:"请选择考试用途",trigger:"change"}],grademethod:[{required:!0,message:"请选择评分方法",trigger:"change"}],timelimit:[{required:!0,message:"请选择考试时间",trigger:"change"}],shufflequestions:[{required:!0,message:"请选择添加试题方式",trigger:"change"}],grade:[{required:!0,message:"请输入总分",trigger:"blur"}]},attemptsbool:!1,dialogTableVisible:!1}},activated:function(){var e=this;if(this.resetForm("ruleForm"),this.loadSections(),this.$route.query.id){var t={id:this.$route.query.id,module:"exam",controller:"quiz",action:"quizDetail"};this.$ajax.post(this.Const.apiUrl,t).then(function(t){if(0==t.data.status){var s=[new Date(t.data.data.timeopen),new Date(t.data.data.timeclose)],a=b()({timerange:s},t.data.data);a.examtype=String(a.examtype),a.timelimit=String(a.timelimit),a.grademethod=String(a.grademethod),a.shufflequestions=String(a.shufflequestions),a.preferredbehaviour=String(a.preferredbehaviour),a.shufflequestions=String(a.shufflequestions),e.ruleForm=a}}).catch(function(t){e.$message({type:"error",message:t.message})})}},methods:{loadSections:function(){var e=this,t={module:"service",controller:"Classroom_Sections_Con",action:"getSections",id:this.Const.courseData.query.d};console.log(t),this.$ajax.post(this.Const.apiUrl,t).then(function(t){console.log(t);var s=t.data;0==s.status?e.sections=s.data:e.$message({type:"info",message:s.data?s.data:"获取章节失败！"})}).catch(function(t){e.$message({type:"error",message:t.message})})},inArray:function(e,t){var s=!0,a=!1,i=void 0;try{for(var n,r=g()(e);!(s=(n=r.next()).done);s=!0){if(n.value==t)return!0}}catch(e){a=!0,i=e}finally{try{!s&&r.return&&r.return()}finally{if(a)throw i}}return!1},splitsection:function(e){var t=[],s=[],a=!0,i=!1,n=void 0;try{for(var r,o=g()(e);!(a=(r=o.next()).done);a=!0){var l=r.value;if(l.pid){var c=this.inArray(t,l.pid);c||t.push(l.pid),(c=this.inArray(s,l.id))||s.push(l.id)}else{this.inArray(t,l.id)||t.push(l.id)}}}catch(e){i=!0,n=e}finally{try{!a&&o.return&&o.return()}finally{if(i)throw n}}return[t,s]},handleCheckChange:function(e,t){var s=[],a=[],i=[];if(null==t){var n=this.$refs[e].getCheckedNodes();a=(s=this.splitsection(n))[0],i=s[1],this.ruleForm.section=a,this.ruleForm.sections=i}else{var r=this.$refs[e][0].getCheckedNodes();a=(s=this.splitsection(r))[0],i=s[1]}for(var o in this.questions)if(this.questions[o].qtype==t){this.questions[o].section=a,this.questions[o].sections=i;break}},back:function(){this.$router.push({path:"/position"})},examtypeChange:function(){0==this.ruleForm.examtype?(this.ruleForm.attempts=1,this.attemptsbool=!0):this.attemptsbool=!1},submitForm:function(e){var t=this,s=b()({timeopen:this.ruleForm.timerange[0],timeclose:this.ruleForm.timerange[1],classroom:this.Const.courseData.query.d},this.ruleForm);s.module="exam",s.controller="quiz",this.$route.query.id?(s.id=this.$route.query.id,s.action="editQuiz"):(s.questions=this.questions,s.action="createQuiz"),this.$refs[e].validate(function(e){if(!e)return!1;t.$ajax.post(t.Const.apiUrl,s).then(function(e){0==e.data.status&&1==t.ruleForm.shufflequestions&&t.$router.push({path:"/posi/additems?id="+e.data.data.quiz})}).catch(function(e){t.$message({type:"error",message:e.message})})})},resetForm:function(e){this.$refs[e].resetFields()},getTablePaperData:function(){this.dialogTableVisible=!1},changeShuffle:function(){this.ruleForm.questions="",0==this.ruleForm.shufflequestions&&(this.dialogTableVisible=!0)},cancelQuestConf:function(){this.dialogTableVisible=!1,this.ruleForm.shufflequestions="1",this.ruleForm.questions=""}}},y={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"addposition"}},[s("div",{staticClass:"title"},[e._m(0),e._v(" "),s("div",{staticClass:"fr"},[s("el-button",{attrs:{round:"",type:"primary",plain:""},on:{click:function(t){e.back()}}},[e._v("返回")])],1)]),e._v(" "),s("section",{staticClass:"add-paper-wrap"},[s("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{"status-icon":!0,model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[s("el-form-item",{attrs:{label:"试卷名称",prop:"name"}},[s("el-input",{attrs:{"suffix-icon":"el-icon-edit",placeholder:"请输入试卷名称"},model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"试卷说明",prop:"intro"}},[s("el-input",{attrs:{"suffix-icon":"el-icon-time",type:"textarea",rows:4},model:{value:e.ruleForm.intro,callback:function(t){e.$set(e.ruleForm,"intro",t)},expression:"ruleForm.intro"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"章节",prop:"section"}},[s("el-tree",{ref:"quizsection",attrs:{props:e.props,data:e.sections,"show-checkbox":""},on:{"check-change":function(t){e.handleCheckChange("quizsection",null)}}})],1),e._v(" "),s("el-form-item",{attrs:{label:"开放时间",prop:"timerange"}},[s("el-date-picker",{attrs:{type:"datetimerange","suffix-icon":"el-icon-date","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.ruleForm.timerange,callback:function(t){e.$set(e.ruleForm,"timerange",t)},expression:"ruleForm.timerange"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"考试时长",prop:"timelimit"}},[s("el-select",{attrs:{placeholder:"请选择"},model:{value:e.ruleForm.timelimit,callback:function(t){e.$set(e.ruleForm,"timelimit",t)},expression:"ruleForm.timelimit"}},[s("el-option",{attrs:{label:"30分钟",value:"30"}}),e._v(" "),s("el-option",{attrs:{label:"60分钟",value:"60"}}),e._v(" "),s("el-option",{attrs:{label:"90分钟",value:"90"}}),e._v(" "),s("el-option",{attrs:{label:"120分钟",value:"120"}})],1)],1),e._v(" "),s("el-form-item",{attrs:{label:"试卷用途",prop:"examtype"}},[s("el-select",{attrs:{placeholder:"请选择"},on:{change:e.examtypeChange},model:{value:e.ruleForm.examtype,callback:function(t){e.$set(e.ruleForm,"examtype",t)},expression:"ruleForm.examtype"}},[s("el-option",{attrs:{label:"测试",value:"0"}}),e._v(" "),s("el-option",{attrs:{label:"考试",value:"1"}})],1)],1),e._v(" "),s("el-form-item",{attrs:{label:"查看答卷时间",prop:"preferredbehaviour"}},[s("el-select",{attrs:{placeholder:"请选择"},model:{value:e.ruleForm.preferredbehaviour,callback:function(t){e.$set(e.ruleForm,"preferredbehaviour",t)},expression:"ruleForm.preferredbehaviour"}},[s("el-option",{attrs:{label:"考试结束后",value:"0"}}),e._v(" "),s("el-option",{attrs:{label:"始终不显示",value:"1"}})],1)],1),e._v(" "),s("el-form-item",{attrs:{label:"评分方法",prop:"grademethod"}},[s("el-select",{attrs:{placeholder:"请选择"},model:{value:e.ruleForm.grademethod,callback:function(t){e.$set(e.ruleForm,"grademethod",t)},expression:"ruleForm.grademethod"}},[s("el-option",{attrs:{label:"最高分",value:"1"}}),e._v(" "),s("el-option",{attrs:{label:"平均分",value:"2"}}),e._v(" "),s("el-option",{attrs:{label:"第一次答题",value:"3"}}),e._v(" "),s("el-option",{attrs:{label:"最后一次答题",value:"4"}})],1)],1),e._v(" "),s("el-form-item",{attrs:{label:"答题次数",prop:"attempts"}},[s("el-input",{attrs:{readonly:e.attemptsbool,"suffix-icon":"el-icon-edit-outline",type:"number"},model:{value:e.ruleForm.attempts,callback:function(t){e.$set(e.ruleForm,"attempts",t)},expression:"ruleForm.attempts"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"总分",prop:"grade"}},[s("el-input",{attrs:{"suffix-icon":"el-icon-edit-outline",type:"number"},model:{value:e.ruleForm.grade,callback:function(t){e.$set(e.ruleForm,"grade",t)},expression:"ruleForm.grade"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"选题方式",prop:"shufflequestions"}},[s("el-select",{attrs:{placeholder:"请选择"},on:{change:e.changeShuffle},model:{value:e.ruleForm.shufflequestions,callback:function(t){e.$set(e.ruleForm,"shufflequestions",t)},expression:"ruleForm.shufflequestions"}},[s("el-option",{attrs:{label:"自动选题",value:"0"}}),e._v(" "),s("el-option",{attrs:{label:"手动选题",value:"1"}})],1)],1),e._v(" "),s("el-form-item",[s("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("ruleForm")}}},[e._v("立即创建")]),e._v(" "),s("el-button",{on:{click:function(t){e.resetForm("ruleForm")}}},[e._v("重置")])],1)],1)],1),e._v(" "),s("section",[s("el-dialog",{attrs:{"close-on-click-modal":!1,"show-close":!1,title:"选择试卷模板",width:"80%",visible:e.dialogTableVisible},on:{"update:visible":function(t){e.dialogTableVisible=t}}},[s("el-tabs",{attrs:{type:"border-card"}},e._l(e.questions,function(t){return s("el-tab-pane",{key:t.qtype,attrs:{label:t.name}},[e._v("\n              章节："),s("el-tree",{ref:t.qtype+"Section",refInFor:!0,attrs:{props:e.props,data:e.sections,"show-checkbox":""},on:{"check-change":function(s){e.handleCheckChange(t.qtype+"Section",t.qtype)}}}),e._v("\n              每题分数："),s("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.score,callback:function(s){e.$set(t,"score",s)},expression:"item.score"}}),e._v("\n              难度配置：\n              "),s("div",{staticStyle:{"margin-left":"60px"}},e._l(t.conf,function(t){return s("div",{key:t.index},[e._v("\n                  "+e._s(t.diff)),s("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.num,callback:function(s){e.$set(t,"num",s)},expression:"val.num"}})],1)}))],1)})),e._v(" "),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:e.cancelQuestConf}},[e._v("取 消")]),e._v(" "),s("el-button",{attrs:{type:"primary"},on:{click:e.getTablePaperData}},[e._v("确 定")])],1)],1)],1)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("span",[t("i",{staticClass:"el-icon-d-arrow-right"}),this._v("添加试卷")])}]};var k=s("C7Lr")(C,y,!1,function(e){s("clar")},null,null).exports,w=s("tCKk"),x={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"bankindex paperbank"},[s("div",{attrs:{id:"editpaper"}},[s("div",{staticClass:"left"},[e._m(0),e._v(" "),e._m(1),e._v(" "),s("div",{staticClass:"selected"},[s("div",{staticClass:"choice-question"},[e._v("当前所选试题\n                    "),s("span",[e._v(e._s(e.selQuestionList.length))]),e._v("道")])]),e._v(" "),e._m(2),e._v(" "),e._m(3)]),e._v(" "),s("div",{staticClass:"center"},[s("div",{staticClass:"content"},[e._m(4),e._v(" "),s("div",{staticClass:"body"},[s("div",{staticClass:"nav"},[s("div",{staticClass:"search-content"},[s("div",{staticClass:"part part-1"},[s("div",{staticClass:"type"},[s("span",[e._v("题目类型：")]),e._v(" "),s("div",{staticClass:"neirong"},[s("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:e.search.type,callback:function(t){e.$set(e.search,"type",t)},expression:"search.type"}},e._l(e.options,function(e){return s("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)]),e._v(" "),s("div",{staticClass:"number"},[s("span",[e._v("试题编号：")]),e._v(" "),s("div",{staticClass:"neirong"},[s("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.search.number,callback:function(t){e.$set(e.search,"number",t)},expression:"search.number"}})],1)]),e._v(" "),s("div",{staticClass:"key"},[s("span",[e._v("题干关键字：")]),e._v(" "),s("div",{staticClass:"neirong"},[s("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.search.keyword,callback:function(t){e.$set(e.search,"keyword",t)},expression:"search.keyword"}})],1)])]),e._v(" "),s("div",{staticClass:"part part-2"},[s("div",{staticClass:"type"},[s("span",[e._v("难度：")]),e._v(" "),s("div",{staticClass:"neirong"},[s("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:e.search.difficulty,callback:function(t){e.$set(e.search,"difficulty",t)},expression:"search.difficulty"}},e._l(e.difficulty,function(e){return s("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)]),e._v(" "),s("div",{staticClass:"number"},[s("span",[e._v("标签：")]),e._v(" "),s("div",{staticClass:"neirong"},[s("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.search.tag,callback:function(t){e.$set(e.search,"tag",t)},expression:"search.tag"}})],1)])])]),e._v(" "),s("div",{staticClass:"search"},[s("div",{staticClass:"click-butn"},[s("el-button",{attrs:{type:"primary"}},[e._v("搜索试题")])],1)])]),e._v(" "),s("div",{staticClass:"main"},[s("div",{staticClass:"title"},[s("div",{staticClass:"capital"},[s("div",{staticClass:"checkbox-all"},[s("el-checkbox",{attrs:{indeterminate:e.isIndeterminate},on:{change:e.handleCheckAllChange},model:{value:e.checkAll,callback:function(t){e.checkAll=t},expression:"checkAll"}},[e._v("全选")])],1),e._v(" "),s("div",{staticClass:"others"},[s("div",{ref:"yuansu",staticClass:"pagenumbers"},[s("div",{staticClass:"discripe"},[e._v("共\n                                            "),s("span",{staticClass:"all"},[e._v(e._s(e.paperList.length))]),e._v("项查询结果\n                                        ")])])])])]),e._v(" "),s("div",{staticClass:"body-test"},[s("ul",{staticClass:"que"},e._l(e.paperList,function(t){return s("li",{staticClass:"que-li",class:{clickon:t.isSel},on:{click:function(s){e.swichchapters(t.id)}}},[s("div",{staticClass:"tit"},[s("el-checkbox",{on:{change:function(s){e.fnDealSelQuestion(t)}},model:{value:t.isSel,callback:function(s){e.$set(t,"isSel",s)},expression:"choice.isSel"}},[s("i",[e._v("1.")]),e._v(" "),s("span",{staticClass:"type"},[e._v("判断题")]),e._v(" "),s("i",[e._v("|")]),e._v(" "),s("span",{staticClass:"cont"},[e._v(e._s(t.name))])])],1),e._v(" "),s("div",{staticClass:"bod"},[s("div",{staticClass:"a list"},[s("span",[e._v("A.")]),e._v(" "),s("span",[e._v(e._s(t.choiceA))]),e._v(" "),s("span",{staticClass:"isRight"},[e._v("[正解]")])]),e._v(" "),s("div",{staticClass:"b list"},[s("span",[e._v("B.")]),e._v(" "),s("span",[e._v(e._s(t.choiceB))])])]),e._v(" "),e._m(5,!0)])}))])])]),e._v(" "),s("div",{staticClass:"icon-gotop",class:{goTop:e.isTop}},[s("i",{staticClass:"iconfont",attrs:{id:"iconfont"},on:{click:function(t){e.goBacktop()}}},[e._v("")]),e._v(" "),s("span",[e._v("回到顶部")])])]),e._v(" "),s("div",{staticClass:"block"},[s("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":e.pagesizes,"page-size":e.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:e.totals},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"random-choice"},[t("span",[this._v("随机选择试题")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"manually-choice"},[t("span",[this._v("手动选择试题")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"submit-btn"},[t("span",[this._v("提交")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"showQuestion"},[t("span",[this._v("查看所选试题")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"title"},[t("div",{staticClass:"classify clearfix"},[t("span",{staticClass:" fl"},[this._v("从题库中选题")])])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"otherDiscript"},[s("div",{staticClass:"diff"},[s("span",[e._v("难度：")]),e._v(" "),s("span",[e._v("4")])]),e._v(" "),s("div",{staticClass:"score"},[s("span",[e._v("默认分值：")]),e._v(" "),s("span",[e._v("5")]),e._v(" "),s("i",[e._v("|")])]),e._v(" "),s("div",{staticClass:"num"},[s("span",[e._v("试题编号：")]),e._v(" "),s("span",[e._v("14398643")]),e._v(" "),s("i",[e._v("|")])])])}]};var q=function(e){s("9VSK")},A=s("C7Lr")(w.a,x,!1,q,null,null).exports,T=s("ckAV"),F={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"bankindex paperbank"},[s("div",{staticClass:"paperbody main",attrs:{id:"paper"}},[s("div",{staticClass:"title"},[e._m(0),e._v(" "),s("div",{staticClass:"fr"},[s("el-button",{attrs:{round:"",type:"primary",plain:""},on:{click:function(t){e.$router.back(-1)}}},[e._v("返回")])],1)]),e._v(" "),s("div",{staticClass:"body-content"},[s("div",{staticClass:"test-list"},[s("div",{staticClass:"list"},[e._m(1),e._v(" "),5==e.bankInfo.check?s("div",{staticClass:"check-btn"},[s("el-button-group",[s("el-button",{attrs:{type:"success",icon:"el-icon-check"},on:{click:e.subPass}}),e._v(" "),s("el-button",{attrs:{type:"warning",icon:"el-icon-close"},on:{click:e.subNoPass}})],1)],1):e._e(),e._v(" "),e.questionTypeList.length?s("div",{staticClass:"list-subject"},[s("ul",{staticClass:"subjectlist",attrs:{id:"listi"}},e._l(e.questionTypeList,function(t,a){return s("li",{key:a,class:{clickon:t.tag===e.selTag},on:{click:function(s){e.swichchapters(t.tag)}}},[e._v("\n                "+e._s(e._f("transformTypeTag")(t.tag,e.bankTypeList))+"\n              ")])}))]):e._e(),e._v(" "),s("div",{staticClass:"list-notes"},[e._m(2),e._v(" "),s("div",{staticClass:"notes-others"},[s("div",{staticClass:"lit"},[e._v("创建者：\n                "),s("span",[e._v(e._s(e.bankInfo.createdbyid))])]),e._v(" "),e.bankInfo.uploadbyid?s("div",{staticClass:"lit"},[e._v("最近修改者：\n                "),s("span",[e._v(e._s(e.bankInfo.uploadbyid))])]):e._e(),e._v(" "),s("div",{staticClass:"lit"},[e._v("试卷类型:\n                "),s("span",[e._v(e._s(e._f("examtypeTransform")(e.bankInfo.examtype)))])]),e._v(" "),e.bankInfo.sectionname?s("div",{staticClass:"lit"},[e._v("所属章："),s("br"),e._v(" "),e._l(e.bankInfo.sectionname,function(t,a){return s("el-tag",{key:a,attrs:{size:"small"}},[e._v(e._s(t))])})],2):e._e(),e._v(" "),e.bankInfo.sectionsname?s("div",{staticClass:"lit"},[e._v("所属节："),s("br"),e._v(" "),e._l(e.bankInfo.sectionsname,function(t,a){return s("el-tag",{key:a,attrs:{size:"small"}},[e._v(e._s(t))])})],2):e._e(),e._v(" "),s("div",{staticClass:"lit"},[e._v("试卷开始时间："),s("br"),e._v(" "),s("span",[e._v(e._s(e.bankInfo.timeopen))])]),e._v(" "),s("div",{staticClass:"lit"},[e._v("试卷结束时间："),s("br"),e._v(" "),s("span",[e._v(e._s(e.bankInfo.timeclose))])]),e._v(" "),s("div",{staticClass:"lit"},[e._v("试卷考试时间：\n                "),s("span",[e._v(e._s(e.bankInfo.timelimit))]),e._v("分钟\n              ")]),e._v(" "),s("div",{staticClass:"lit"},[e._v("选题方式：\n                "),s("span",[e._v(e._s(e._f("shufflequestionsTranform")(e.bankInfo.shufflequestions)))])]),e._v(" "),s("div",{staticClass:"lit"},[e._v("总题数：\n                "),s("span",[e._v(e._s(e.allBankList.length))]),e._v("题\n              ")]),e._v(" "),s("div",{staticClass:"lit"},[e._v("总分值：\n                "),s("span",[e._v(e._s(e._f("gradeTransform")(e.bankInfo.grade)))]),e._v("分\n              ")]),e._v(" "),s("div",{staticClass:"lit"},[e._v("评分方式：\n                "),s("span",[e._v(e._s(e.bankInfo.grademethod))]),e._v("分\n              ")]),e._v(" "),s("div",{staticClass:"lit"},[e._v("试卷说明：\n                "),s("span",[e._v(e._s(e.bankInfo.intro))])])])])])]),e._v(" "),s("div",{staticClass:"test-content"},[s("div",{staticClass:"content-title"},[s("span",{staticClass:"pre"},[e._v("预览试卷")]),e._v(" "),s("div",{staticClass:"oth"},[s("span",[e._v("试卷名称："+e._s(e.bankInfo.name))]),e._v(" "),6==e.bankInfo.check||2==e.bankInfo.check?s("p",{staticClass:"check-status pass"},[s("i",{staticClass:"el-icon-check"})]):s("p",{staticClass:"check-status nopass"},[s("i",{staticClass:"el-icon-close"})])])]),e._v(" "),s("div",{staticClass:"bank-list"},[s("div",{staticClass:"bank-list-wrap"},e._l(e.previewList,function(t,a){return s("div",{key:a,staticClass:"bank-item clearfix"},[s("div",{staticClass:"title clearfix"},[s("div",{staticClass:"xxxx"},[s("div",{staticClass:"timu fl"},[s("span",{staticClass:"num-order"},[s("i",[e._v(e._s(a+1))]),e._v("、")]),e._v(" "),s("span",{staticClass:"bank-type",domProps:{textContent:e._s(e.tranforAll(t.qtype,e.bankTypeList))}}),e._v(" "),s("span",[e._v("  |   ")]),s("div",{domProps:{innerHTML:e._s(t.questiontext)}})])])]),e._v(" "),t.imgs&&t.imgs.length>0?s("div",{staticClass:"pic-box"},[s("div",{staticClass:"pic"},[s("el-carousel",{attrs:{height:"150px"}},e._l(t.imgs,function(e,t){return s("el-carousel-item",{key:t},[s("img",{attrs:{src:"https://ss0.bdstatic.com/k4oZeXSm1A5BphGlnYG/newmusic/english.png",alt:""}})])}))],1),e._v(" "),e._m(3,!0)]):e._e(),e._v(" "),"singlechoice"===t.qtype||"multiplechoice"===t.qtype?s("div",{staticClass:"answer-box"},[s("ul",{staticClass:"clearfix"},e._l(t.answer,function(t,a){return s("li",{key:a,class:{"cankao-answer":"100"===t.fraction}},[s("p",[s("i",[e._v(e._s(e.Const.optionsTab[a]))]),e._v(" : ")]),e._v(" "),s("div",{staticClass:"answer-item"},[s("p",{staticClass:"answer-con-option"},[e._v(e._s(t.name))]),e._v(" "),t.imgs&&t.imgs.length>0?s("img",{attrs:{src:t.imgs[0],alt:"",height:"100"}}):e._e()])])}))]):e._e(),e._v(" "),"essay"===t.qtype?s("div",{staticClass:"answer-box"},[s("div",{staticClass:"cankaodaan"},[s("span",{staticClass:"can-title"},[e._v("参考答案:  ")]),e._v(" "),s("span",{staticClass:"answer-con-option"},[e._v(e._s(t.answer.name))]),e._v(" "),s("p",[t.answer.imgs&&t.answer.imgs.length>0?s("img",{attrs:{src:t.answer.imgs[0],alt:"",height:"100"}}):e._e()])])]):e._e(),e._v(" "),"shortanswer"===t.qtype?s("div",{staticClass:"answer-box"},[s("div",{staticClass:"cankaodaan"},[s("span",{staticClass:"can-title"},[e._v("参考答案:  ")]),e._v(" "),e._l(t.answer,function(t,a){return s("span",{key:a,staticClass:"answer-con-option"},[e._v(e._s(t)+"  ")])})],2)]):e._e(),e._v(" "),"truefalse"===t.qtype?s("div",{staticClass:"answer-box"},[s("div",{staticClass:"cankaodaan"},[s("span",{staticClass:"can-title"},[e._v("参考答案:  ")]),e._v(" "),"0"==t.answer.fraction?s("span",{staticClass:"answer-con-option"},[e._v("正 确")]):e._e(),e._v(" "),"1"==t.answer.fraction?s("span",{staticClass:"answer-con-option"},[e._v("错 误")]):e._e()])]):e._e(),e._v(" "),"readingcomprehension"===t.qtype?s("div",{staticClass:"answer-box comprehensive"},e._l(t.option,function(t,a){return s("div",{key:a,staticClass:"answer-list"},[s("p",{staticClass:"answer-name"},[s("span",[e._v("("+e._s(a+1)+")、  ")]),s("span",{staticClass:"bank-type",domProps:{textContent:e._s(e.tranforAll(t.qtype,e.bankTypeList))}}),e._v(" | "+e._s(t.name))]),e._v(" "),"essay"===t.qtype?[s("div",{staticClass:"cankaodaan answer-con"},[s("span",{staticClass:"can-title"},[e._v("参考答案:  ")]),e._v(" "),s("span",{staticClass:"answer-con-option"},[e._v(e._s(t.answer.name))]),e._v(" "),s("p",[t.answer.imgs&&t.answer.imgs.length>0?s("img",{attrs:{src:t.answer.imgs[0],alt:"",height:"100"}}):e._e()])])]:e._e(),e._v(" "),"singlechoice"===t.qtype||"multiplechoice"===t.qtype?[s("ul",{staticClass:"clearfix"},e._l(t.answer,function(t,a){return s("li",{key:a,class:{"cankao-answer":"100"===t.fraction}},[e._m(4,!0),e._v(" "),s("div",{staticClass:"answer-item"},[s("p",{staticClass:"answer-con-option"},[e._v(e._s(t.name))]),e._v(" "),t.imgs&&t.imgs.length>0?s("img",{attrs:{src:t.imgs[0],alt:"",height:"100"}}):e._e()])])}))]:e._e(),e._v(" "),"truefalse"===t.qtype?[s("div",{staticClass:"cankaodaan"},[s("span",{staticClass:"can-title"},[e._v("参考答案:  ")]),e._v(" "),"0"==t.answer.fraction?s("span",{staticClass:"answer-con-option"},[e._v("正 确")]):e._e(),e._v(" "),"1"==t.answer.fraction?s("span",{staticClass:"answer-con-option"},[e._v("错 误")]):e._e()])]:e._e()],2)})):e._e(),e._v(" "),"comprehensive"===t.qtype?s("div",{staticClass:"answer-box comprehensive"},e._l(t.option,function(t,a){return s("div",{key:a,staticClass:"answer-list"},[s("p",{staticClass:"answer-name"},[s("span",[e._v("("+e._s(a+1)+")、  ")]),s("span",{staticClass:"bank-type"},[e._v("简答题")]),e._v(" | "+e._s(t.name))]),e._v(" "),s("div",{staticClass:"cankaodaan answer-con"},[s("span",{staticClass:"can-title"},[e._v("参考答案:  ")]),e._v(" "),s("span",{staticClass:"answer-con-option"},[e._v(e._s(t.answer.name))]),e._v(" "),s("p",[t.answer.imgs&&t.answer.imgs.length>0?s("img",{attrs:{src:t.answer.imgs[0],alt:"",height:"100"}}):e._e()])])])})):e._e(),e._v(" "),s("div",{staticClass:"gf"},[s("span",{staticClass:"gf-title"},[e._v("题目解析:  ")]),e._v(" "),s("div",{staticClass:"gf-content",domProps:{innerHTML:e._s(t.generalfeedback)}})])])}))])]),e._v(" "),s("div",{staticClass:"icon-gotop",class:{goTop:e.isTop}},[s("i",{staticClass:"iconfont",attrs:{id:"iconfont"},on:{click:function(t){e.goBacktop()}}},[e._v("")]),e._v(" "),s("span",[e._v("回到顶部")])])])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("span",[t("i",{staticClass:"el-icon-d-arrow-right"}),this._v("试卷详情")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"list-title"},[t("span",[this._v("试卷基本信息")]),this._v(" "),t("i",{attrs:{id:"test-title"}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"notes-title"},[t("span",[this._v("试卷考法")]),this._v(" "),t("span",[this._v("按总时长计时")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"annotation"},[t("p",[this._v("图片注释")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("i",[this._v("A")]),this._v(" : ")])}]};var z=function(e){s("i+Xe")},S=s("C7Lr")(T.a,F,!1,z,null,null).exports,P=s("NzCe"),L={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"bankindex questbank"},[s("aside",{staticClass:"aside"},[e._m(0),e._v(" "),s("div",{staticClass:"total-bankSecond"},[s("span",[e._v("试卷名")]),e._v(" "),s("p",[s("i",[e._v(e._s(e.questionNum.papername))])])]),e._v(" "),s("div",{staticClass:"total-bankSecond time"},[s("span",[e._v("考试时间")]),e._v(" "),s("p",[s("i",[e._v(e._s(e.questionNum.startTime))])])]),e._v(" "),s("div",{staticClass:"total-bankSecond time"},[s("span",[e._v("结束时间")]),e._v(" "),s("p",[s("i",[e._v(e._s(e.questionNum.endTime))])])]),e._v(" "),s("div",{staticClass:"total-bank"},[s("span",[e._v("可操作总题数")]),e._v(" "),s("p",[s("i",[e._v(e._s(e.questionNum.totalbank))]),e._v("题")])]),e._v(" "),s("div",{staticClass:"total-bank"},[s("span",[e._v("当前试卷总分")]),e._v(" "),s("p",[s("i",[e._v(e._s(e.questionNum.totalScore))])])]),e._v(" "),s("div",{staticClass:"addbank",on:{click:function(t){e.dialogTableVisible=!0}}},[s("i",{staticClass:"el-icon-tickets"}),e._v(" "),s("span",[e._v("预览")])]),e._v(" "),s("el-dialog",{attrs:{title:"已加入试题详情",visible:e.dialogTableVisible,width:"90%"},on:{"update:visible":function(t){e.dialogTableVisible=t}}},[s("el-table",{staticClass:"table_data",staticStyle:{cursor:"pointer"},attrs:{data:e.searchPrevArr}},[s("el-table-column",{attrs:{type:"index",label:"序号",width:"130"}}),e._v(" "),s("el-table-column",{attrs:{property:"qtype",label:"题型",width:"200",formatter:e.tranforQtypeTable}}),e._v(" "),s("el-table-column",{attrs:{property:"name",label:"题名",fit:"boolean"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-popover",{attrs:{trigger:"hover",placement:"top"}},[s("p",{domProps:{innerHTML:e._s(t.row.name)}},[e._v("题名:")]),e._v(" "),s("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[s("el-tag",{attrs:{size:"medium"},domProps:{innerHTML:e._s(t.row.name)}})],1)])]}}])}),e._v(" "),s("el-table-column",{attrs:{property:"grade",label:"分数",width:"200"}}),e._v(" "),s("el-table-column",{attrs:{label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("i",{staticClass:"el-icon-delete cursorPoint",on:{click:function(s){e.recoverList(t.row)}}})]}}])})],1),e._v(" "),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-radio-group",{staticStyle:{float:"left"},on:{change:e.showPartType},model:{value:e.radioType,callback:function(t){e.radioType=t},expression:"radioType"}},[s("el-radio",{attrs:{label:"all",border:""}},[e._v("全部")]),e._v(" "),e._l(e.addBankType,function(t,a){return s("el-radio",{key:a,attrs:{label:t.value,border:""}},[s("span",{domProps:{textContent:e._s(t.name)}})])})],2),e._v(" "),s("el-button",{on:{click:function(t){e.dialogTableVisible=!1}}},[e._v("取 消")]),e._v(" "),s("el-button",{attrs:{type:"primary"},on:{click:e.submitAddQues}},[e._v("提交")])],1)],1),e._v(" "),s("div",{staticClass:"addbank sub",on:{click:e.submitAddQues}},[s("i",{staticClass:"el-icon-check"}),e._v(" "),s("span",[e._v("提交")])])],1),e._v(" "),s("section",{staticClass:"wrap"},[[s("el-table",{staticStyle:{width:"100%",cursor:"pointer"},attrs:{data:e.statusChoose,"highlight-current-row":!0},on:{"current-change":e.openDetailsChange}},[s("el-table-column",{attrs:{type:"index",label:"序号",width:"150"}}),e._v(" "),s("el-table-column",{attrs:{prop:"qtype",label:"题型",width:"180",formatter:e.tranforQtypeTable}}),e._v(" "),s("el-table-column",{attrs:{prop:"number",formatter:e.formatterQuesNum,label:"题目个数",width:"200"}}),e._v(" "),s("el-table-column",{attrs:{prop:"grade",label:"单个题分数"}}),e._v(" "),s("el-table-column",{attrs:{prop:"status",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.status?s("el-tag",{attrs:{type:"danger",size:"medium"}},[e._v("未选题")]):e._e(),e._v(" "),1==t.row.status?s("el-tag",{attrs:{type:"info",size:"medium"}},[e._v("选题中")]):e._e()]}}])})],1)],e._v(" "),s("div",{staticClass:"head-condition clearfix"},[s("el-button",{staticClass:"search fl",attrs:{type:"primary"},on:{click:function(t){e.dialogFormVisible=!0}}},[e._v("添加试题")]),e._v(" "),s("el-dialog",{attrs:{title:"试题添加",visible:e.dialogFormVisible,width:"450px"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[s("el-form",{ref:"userChooseForm",attrs:{model:e.userChooseForm,"label-width":"100px","status-icon":"",rules:e.rules}},[s("el-form-item",{attrs:{label:"题型：",prop:"type"}},[s("el-select",{attrs:{placeholder:"请选择要添加的题型"},model:{value:e.userChooseForm.type,callback:function(t){e.$set(e.userChooseForm,"type",t)},expression:"userChooseForm.type"}},e._l(e.bankTypeList,function(e,t){return s("el-option",{key:t,attrs:{label:e.name,value:e.value}})}))],1),e._v(" "),s("el-form-item",{attrs:{label:"题型个数：",prop:"number"}},[s("el-input",{staticStyle:{width:"205px"},model:{value:e.userChooseForm.number,callback:function(t){e.$set(e.userChooseForm,"number",e._n(t))},expression:"userChooseForm.number"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"题型分数：",prop:"grade"}},[s("el-input",{staticStyle:{width:"205px"},model:{value:e.userChooseForm.grade,callback:function(t){e.$set(e.userChooseForm,"grade",e._n(t))},expression:"userChooseForm.grade"}})],1)],1),e._v(" "),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),s("el-button",{attrs:{type:"primary"},on:{click:function(t){e.customByUserMethod("userChooseForm")}}},[e._v("确 定")])],1)],1)],1),e._v(" "),s("div",{staticClass:"head-condition clearfix"},[s("p",{staticClass:"item-condition"},[s("span",[e._v("使用权限: ")]),e._v(" "),s("el-select",{attrs:{placeholder:"请选择"},model:{value:e.search.qusepermise,callback:function(t){e.$set(e.search,"qusepermise",t)},expression:"search.qusepermise"}},e._l(e.qusepermiseList,function(e,t){return s("el-option",{key:t,attrs:{label:e.name,value:e.value}})}))],1),e._v(" "),s("p",{staticClass:"item-condition"},[s("span",[e._v("章节: ")]),e._v(" "),s("el-cascader",{attrs:{"expand-trigger":"hover",options:e.options},model:{value:e.search.selectedOptions,callback:function(t){e.$set(e.search,"selectedOptions",t)},expression:"search.selectedOptions"}})],1),e._v(" "),s("p",{staticClass:"item-condition"},[s("span",[e._v("难易程度: ")]),e._v(" "),s("el-select",{attrs:{placeholder:"请选择"},model:{value:e.search.complexity,callback:function(t){e.$set(e.search,"complexity",t)},expression:"search.complexity"}},e._l(e.complexityList,function(e,t){return s("el-option",{key:t,attrs:{label:e.name,value:e.value}})}))],1),e._v(" "),s("p",{staticClass:"item-condition"},[s("span",[e._v("出题时间: ")]),e._v(" "),s("el-date-picker",{attrs:{type:"daterange",align:"right","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":e.pickerTimeOptions},model:{value:e.search.rangeTime,callback:function(t){e.$set(e.search,"rangeTime",t)},expression:"search.rangeTime"}})],1),e._v(" "),s("p",{staticClass:"item-condition"},[s("span",[e._v("内容搜索: ")]),e._v(" "),s("el-input",{attrs:{placeholder:"输入内容进行搜索"},model:{value:e.search.searchCon,callback:function(t){e.$set(e.search,"searchCon",t)},expression:"search.searchCon"}})],1),e._v(" "),s("el-button",{staticClass:"search fl",attrs:{type:"primary"},on:{click:e.getQuestionData}},[e._v("搜索试题")])],1),e._v(" "),s("div",{staticClass:"bank-list"},[s("div",{staticClass:"bank-list-wrap"},e._l(e.searchQuestionList,function(t,a){return s("div",{key:a,staticClass:"bank-item clearfix"},[s("div",{staticClass:"title clearfix"},[s("div",{staticClass:"xxxx"},[s("div",{staticClass:"timu fl"},[s("span",{staticClass:"num-order"},[s("i",[e._v(e._s(a+1))]),e._v("、")]),e._v(" "),s("span",{staticClass:"bank-type",domProps:{textContent:e._s(e.tranforAll(t.qtype,e.bankTypeList))}}),e._v(" "),s("span",[e._v("  |   ")]),s("div",{domProps:{innerHTML:e._s(t.questiontext)}})])]),e._v(" "),e.userChooseForm.isadd?s("div",{staticClass:"opr fr"},[s("el-button",{attrs:{type:"primary",icon:"el-icon-plus",circle:""},on:{click:function(s){e.pushArr(t,a)}}})],1):e._e()]),e._v(" "),t.imgs&&t.imgs.length>0?s("div",{staticClass:"pic-box"},[s("div",{staticClass:"pic"},[s("el-carousel",{attrs:{height:"150px"}},e._l(3,function(e,t){return s("el-carousel-item",{key:t},[s("img",{attrs:{src:"https://ss0.bdstatic.com/k4oZeXSm1A5BphGlnYG/newmusic/english.png",alt:""}})])}))],1),e._v(" "),e._m(1,!0)]):e._e(),e._v(" "),"singlechoice"===t.qtype||"multiplechoice"===t.qtype?s("div",{staticClass:"answer-box"},[s("ul",{staticClass:"clearfix"},e._l(t.answer,function(t,a){return s("li",{key:a,class:{"cankao-answer":"100"===t.fraction}},[s("p",[s("i",[e._v(e._s(e.Const.optionsTab[a]))]),e._v(" : ")]),e._v(" "),s("div",{staticClass:"answer-item"},[s("p",{staticClass:"answer-con-option"},[e._v(e._s(t.name))]),e._v(" "),t.imgs&&t.imgs.length>0?s("img",{attrs:{src:t.imgs[0],alt:"",height:"100"}}):e._e()])])}))]):e._e(),e._v(" "),"essay"===t.qtype?s("div",{staticClass:"answer-box"},[s("div",{staticClass:"cankaodaan"},[s("span",{staticClass:"can-title"},[e._v("参考答案:  ")]),e._v(" "),s("span",{staticClass:"answer-con-option"},[e._v(e._s(t.answer.name))]),e._v(" "),s("p",[t.answer.imgs&&t.answer.imgs.length>0?s("img",{attrs:{src:t.answer.imgs[0],alt:"",height:"100"}}):e._e()])])]):e._e(),e._v(" "),"shortanswer"===t.qtype?s("div",{staticClass:"answer-box"},[s("div",{staticClass:"cankaodaan"},[s("span",{staticClass:"can-title"},[e._v("参考答案:  ")]),e._v(" "),e._l(t.answer,function(t,a){return s("span",{key:a,staticClass:"answer-con-option"},[e._v(e._s(t)+"  ")])})],2)]):e._e(),e._v(" "),"truefalse"===t.qtype?s("div",{staticClass:"answer-box"},[s("div",{staticClass:"cankaodaan"},[s("span",{staticClass:"can-title"},[e._v("参考答案:  ")]),e._v(" "),"0"==t.answer.fraction?s("span",{staticClass:"answer-con-option"},[e._v("正 确")]):e._e(),e._v(" "),"1"==t.answer.fraction?s("span",{staticClass:"answer-con-option"},[e._v("错 误")]):e._e()])]):e._e(),e._v(" "),"readingcomprehension"===t.qtype?s("div",{staticClass:"answer-box comprehensive"},e._l(t.option,function(t,a){return s("div",{key:a,staticClass:"answer-list"},[s("p",{staticClass:"answer-name"},[s("span",[e._v("("+e._s(a+1)+")、  ")]),s("span",{staticClass:"bank-type",domProps:{textContent:e._s(e.tranforAll(t.qtype,e.bankTypeList))}}),e._v(" | "+e._s(t.name))]),e._v(" "),"essay"===t.qtype?[s("div",{staticClass:"cankaodaan answer-con"},[s("span",{staticClass:"can-title"},[e._v("参考答案:  ")]),e._v(" "),s("span",{staticClass:"answer-con-option"},[e._v(e._s(t.answer.name))]),e._v(" "),s("p",[t.answer.imgs&&t.answer.imgs.length>0?s("img",{attrs:{src:t.answer.imgs[0],alt:"",height:"100"}}):e._e()])])]:e._e(),e._v(" "),"singlechoice"===t.qtype||"multiplechoice"===t.qtype?[s("ul",{staticClass:"clearfix"},e._l(t.answer,function(t,a){return s("li",{key:a,class:{"cankao-answer":"100"===t.fraction}},[e._m(2,!0),e._v(" "),s("div",{staticClass:"answer-item"},[s("p",{staticClass:"answer-con-option"},[e._v(e._s(t.name))]),e._v(" "),t.imgs&&t.imgs.length>0?s("img",{attrs:{src:t.imgs[0],alt:"",height:"100"}}):e._e()])])}))]:e._e(),e._v(" "),"truefalse"===t.qtype?[s("div",{staticClass:"cankaodaan"},[s("span",{staticClass:"can-title"},[e._v("参考答案:  ")]),e._v(" "),"0"==t.answer.fraction?s("span",{staticClass:"answer-con-option"},[e._v("正 确")]):e._e(),e._v(" "),"1"==t.answer.fraction?s("span",{staticClass:"answer-con-option"},[e._v("错 误")]):e._e()])]:e._e()],2)})):e._e(),e._v(" "),"comprehensive"===t.qtype?s("div",{staticClass:"answer-box comprehensive"},e._l(t.option,function(t,a){return s("div",{key:a,staticClass:"answer-list"},[s("p",{staticClass:"answer-name"},[s("span",[e._v("("+e._s(a+1)+")、  ")]),s("span",{staticClass:"bank-type"},[e._v("简答题")]),e._v(" | "+e._s(t.name))]),e._v(" "),s("div",{staticClass:"cankaodaan answer-con"},[s("span",{staticClass:"can-title"},[e._v("参考答案:  ")]),e._v(" "),s("span",{staticClass:"answer-con-option"},[e._v(e._s(t.answer.name))]),e._v(" "),s("p",[t.answer.imgs&&t.answer.imgs.length>0?s("img",{attrs:{src:t.answer.imgs[0],alt:"",height:"100"}}):e._e()])])])})):e._e(),e._v(" "),s("div",{staticClass:"gf"},[s("span",{staticClass:"gf-title"},[e._v("题目解析:  ")]),e._v(" "),s("div",{staticClass:"gf-content",domProps:{innerHTML:e._s(t.generalfeedback)}})]),e._v(" "),s("div",{staticClass:"note fr"},[s("p",[e._v("审核状态：\n              "),"1"===t.check?s("span",{staticClass:"success"},[e._v("可用")]):e._e(),e._v(" "),"2"===t.check?s("span",{staticClass:"error",on:{click:function(s){e.fnReadCheckMsg(t.id)}}},[e._v("审核未通过")]):e._e(),e._v(" "),"3"===t.check?s("span",{staticClass:"danger"},[e._v("申请审核")]):e._e(),e._v(" "),"4"===t.check?s("span",{staticClass:"success"},[e._v("创建完成")]):e._e(),e._v(" "),"5"===t.check?s("span",{staticClass:"success"},[e._v("调整完成")]):e._e(),e._v(" | 课题：\n              "),s("span",[e._v(e._s(t.section)+"/"+e._s(t.sections))]),e._v(" | 标签：\n              "),s("span",{domProps:{textContent:e._s(e.tranforAll(t.usepermise,e.qusepermiseList))}}),e._v(" | 难度：\n              "),s("span",{domProps:{textContent:e._s(e.tranforAll(t.difficulty,e.complexityList))}}),e._v(" | 添加日期：\n              "),s("span",[e._v(e._s(t.createtime))]),e._v(" | 作者：\n              "),s("span",[e._v(e._s(t.auth))])])])])}))]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.sideshowhide,expression:"sideshowhide"}],staticClass:"flow-side-box"},[s("div",{staticClass:"go-top",attrs:{title:"回到顶部"},on:{click:e.fnGoTop}},[s("i",{staticClass:"el-icon-arrow-up"})]),e._v(" "),s("div",{staticClass:"add-bank-btn",on:{click:e.fnAddBank}},[s("i",{staticClass:"el-icon-circle-plus"}),e._v(" "),s("span",[e._v("添加试题")])])]),e._v(" "),s("div",{staticClass:"paging"},[s("el-pagination",{attrs:{background:"","current-page":e.page.currentPage,"page-sizes":[5,10,20,50],"page-size":e.page.pageSize,layout:"total,sizes,prev,pager,next,jumper",total:e.page.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],2)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("p",{staticClass:"title"},[t("i",{staticClass:"el-icon-d-arrow-right"}),this._v(" 基本信息")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"annotation"},[t("p",[this._v("图片注释")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("i",[this._v("A")]),this._v(" : ")])}]};var $=function(e){s("JjQR")},j=s("C7Lr")(P.a,L,!1,$,null,null).exports,N=s("UOFZ"),B={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"bankindex questbank"},[s("aside",{staticClass:"aside"},[e._m(0),e._v(" "),s("div",{staticClass:"total-bank"},[s("span",{staticClass:"key"},[e._v("课堂名称:")]),e._v(" "),s("p",[s("i",[e._v(e._s(e.classroom))])])]),e._v(" "),s("div",{staticClass:"total-bank"},[s("span",[e._v("场次总数")]),e._v(" "),s("p",[s("i",[e._v(e._s(e.page.total))]),e._v("场")])]),e._v(" "),s("div",{staticClass:"addbank",on:{click:e.fnAddPaper}},[s("i",{staticClass:"el-icon-circle-plus"}),e._v(" "),s("span",[e._v("新建考试场次")])])]),e._v(" "),s("section",{staticClass:"wrap"},[s("div",{staticClass:"head-condition clearfix"},[s("p",{staticClass:"item-condition"},[s("el-input",{attrs:{placeholder:"输入场次名称关键字"},model:{value:e.search.name,callback:function(t){e.$set(e.search,"name",t)},expression:"search.name"}})],1),e._v(" "),s("p",{staticClass:"item-condition"},[s("el-input",{attrs:{min:"1",type:"number",placeholder:"请输入考试时长(分)"},model:{value:e.search.limittime,callback:function(t){e.$set(e.search,"limittime",t)},expression:"search.limittime"}})],1),e._v(" "),s("p",{staticClass:"item-condition"},[s("el-cascader",{attrs:{options:e.sectionsList,props:e.sectionsProp,"change-on-select":"",placeholder:"请选择章节"},on:{change:e.sectionsChange},model:{value:e.sectionsOptions,callback:function(t){e.sectionsOptions=t},expression:"sectionsOptions"}})],1),e._v(" "),s("p",{staticClass:"item-condition"},[s("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd H:mm:ss",type:"datetimerange","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.time,callback:function(t){e.time=t},expression:"time"}})],1),e._v(" "),s("p",{staticClass:"item-condition"},[s("el-button",{attrs:{type:"primary"},on:{click:e.requestFn}},[e._v("搜索")])],1)]),e._v(" "),s("div",{staticClass:"bank-list"},[s("el-table",{staticStyle:{width:"100%"},attrs:{data:e.paperList,"max-height":"400",border:""}},[s("el-table-column",{attrs:{prop:"name",fixed:"",label:"考试场次","show-overflow-tooltip":!0,width:"200"}}),e._v(" "),s("el-table-column",{attrs:{prop:"quizname",label:"试卷名称","show-overflow-tooltip":!0}}),e._v(" "),s("el-table-column",{attrs:{prop:"starttime",label:"开始时间",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-popover",{attrs:{trigger:"hover",placement:"top"}},[s("p",[e._v("结束时间: "+e._s(t.row.endtime))]),e._v(" "),s("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[s("i",{staticClass:"el-icon-time"}),e._v(" "),s("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.starttime))])])])]}}])}),e._v(" "),s("el-table-column",{attrs:{prop:"status",label:"考试状态",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.check?s("el-tag",{attrs:{type:"info"}},[e._v("考试未开始")]):e._e(),e._v(" "),2==t.row.check?s("el-tag",{attrs:{type:"success"}},[e._v("考试中")]):e._e(),e._v(" "),3==t.row.check?s("el-tag",{attrs:{type:"success"}},[e._v("考试结束")]):e._e(),e._v(" "),4==t.row.check?s("el-tag",{attrs:{type:"danger"}},[e._v("待审核")]):e._e(),e._v(" "),5==t.row.check?s("el-tag",{attrs:{type:"danger"}},[e._v("审核未通过")]):e._e()]}}])}),e._v(" "),s("el-table-column",{attrs:{fixed:"right",label:"操作",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{type:"text",size:"small"},on:{click:function(s){e.fnDelete(t.row.id)}}},[e._v("删除")]),e._v(" "),s("el-button",{attrs:{type:"text",size:"small"},on:{click:function(s){e.fnEdit(t.row.id)}}},[e._v("编辑")]),e._v(" "),s("el-button",{attrs:{type:"text",size:"small"},on:{click:function(s){e.fnReadPaper(t.row.id)}}},[e._v("查看")]),e._v(" "),4==t.row.check?s("el-button",{attrs:{type:"text",size:"small"},on:{click:function(s){e.fnCheckPaper(t.row.id)}}},[e._v("审核")]):e._e()]}}])})],1)],1),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.sideshowhide,expression:"sideshowhide"}],staticClass:"flow-side-box"},[s("div",{staticClass:"go-top",attrs:{title:"回到顶部"},on:{click:e.fnGoTop}},[s("i",{staticClass:"el-icon-arrow-up"})]),e._v(" "),s("div",{staticClass:"add-bank-btn",on:{click:e.fnAddPaper}},[s("i",{staticClass:"el-icon-circle-plus"}),e._v(" "),s("span",[e._v("新建考试场次")])])]),e._v(" "),s("div",{staticClass:"paging"},[s("el-pagination",{attrs:{background:"","current-page":e.page.currentPage,"page-sizes":[5,10,20,50],"page-size":e.page.pageSize,layout:"total,sizes,prev,pager,next,jumper",total:e.page.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("p",{staticClass:"title"},[t("i",{staticClass:"el-icon-d-arrow-right"}),this._v(" 考试场次")])}]};var Q=function(e){s("K1PS")},D=s("C7Lr")(N.a,B,!1,Q,null,null).exports,O={data:function(){return{ruleForm:{name:"",message:"",timerange:[new Date,new Date((new Date).getTime()+864e5)],quiz:"",attempts:1,quiz_name:""},rules:{name:[{required:!0,message:"请输入场次名称",trigger:"blur"}],message:[{required:!0,message:"关于本场考试的简单描述和考试的相关事项",trigger:"blur"}]},currentRow:null,attemptsbool:!1,dialogTableVisible:!1,paperGridData:[],paperTablePage:{currentPage:1,pageSize:10,total:0}}},activated:function(){this.resetForm("ruleForm"),this.requestAblePosi(),this.$route.query.id&&this.requestEditPaper()},methods:{datachechk:function(){null===this.$route.query.id&&(this.ruleForm.name=this.paperList.name)},requestAblePosi:function(){var e=this,t={module:"exam",controller:"Quiz",action:"getQuizList",examtype:"1",classroom:this.Const.courseData.query.d,check:"6",page:this.paperTablePage.currentPage,rows:this.paperTablePage.pageSize};this.$ajax.post(this.Const.apiUrl,t).then(function(t){var s=t.data;0==s.status?(e.paperGridData=s.data.data,e.paperTablePage=s.data.page):e.$message({type:"info",message:s.data||"获取可用试卷列表失败！"})}).catch(function(t){e.$message({type:"error",message:"获取可用试卷列表失败！"+t.message})})},requestEditPaper:function(){var e=this,t={module:"exam",controller:"project",action:"details",id:this.$route.query.id};this.$ajax.post(this.Const.apiUrl,t).then(function(t){var s=t.data;0==s.status?(e.ruleForm.name=s.data.name,e.ruleForm.message=s.data.message,e.ruleForm.timerange=[s.data.starttime,s.data.endtime],e.ruleForm.attempts=s.data.attempts,e.ruleForm.quiz_name=s.data.quiz_name,e.ruleForm.id=s.data.id):e.$message({type:"info",message:"获取可用试卷列表失败！"+s.data})}).catch(function(t){e.$message({type:"error",message:"获取可用试卷列表失败！"+t.message})})},submitForm:function(e){var t=this,s={module:"exam",controller:"project",action:"createProject",name:this.ruleForm.name,message:this.ruleForm.message,starttime:this.ruleForm.timerange[0],endtime:this.ruleForm.timerange[1],quiz:this.ruleForm.quiz};this.$refs[e].validate(function(e){if(!e)return!1;t.$ajax.post(t.Const.apiUrl,s).then(function(e){var s=e.data;0==s.status?(t.$message({type:"success",message:"场次创建成功"}),t.resetForm()):t.$message({type:"info",message:"添加场次失败"+s.data})}).catch(function(e){t.$message({type:"error",message:"添加场次失败"+e.message})})})},editForm:function(e){var t=this,s={module:"exam",controller:"project",action:"editProject",name:this.ruleForm.name,message:this.ruleForm.message,starttime:this.ruleForm.timerange[0],endtime:this.ruleForm.timerange[1],id:this.ruleForm.id,attempts:this.ruleForm.attempts};this.$refs[e].validate(function(e){if(!e)return!1;t.$ajax.post(t.Const.apiUrl,s).then(function(e){var s=e.data;0==s.status?t.$message({type:"success",message:"场次修改成功"}):t.$message({type:"info",message:"添加修改失败"+s.data})}).catch(function(e){t.$message({type:"error",message:"添加修改失败"+e.message})})})},handleCurrentTableChange:function(e){this.currentRow=e},resetForm:function(e){this.$refs[e].resetFields()},handleCurrentChangePage:function(e){var t=this,s={module:"exam",controller:"quiz",action:"getQuizList",examtype:"1",classroom:"1",check:"6",page:e,rows:"15"};this.$ajax.post(this.Const.apiUrl,s).then(function(e){console.log(e);var s=e.data.data;1==s.status&&console.log("错误"),null!=s.data&&(t.paperGridData=s.data),t.paperTablePage=s.page}).catch(function(e){console.log("aaaaaaa")})},getTablePaperData:function(){this.ruleForm.quiz=this.currentRow.id,this.dialogTableVisible=!1},cancel:function(){this.currentRow=null,this.dialogTableVisible=!1}},watch:{$route:function(e,t){""===e.query&&this.resetForm("ruleForm")}}},R={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"addpaper"}},[s("div",{staticClass:"title"},[e._m(0),e._v(" "),s("div",{staticClass:"fr"},[s("el-button",{attrs:{round:"",type:"primary",plain:""},on:{click:function(t){e.$router.back(-1)}}},[e._v("返回")])],1)]),e._v(" "),s("section",{staticClass:"add-paper-wrap"},[s("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{"status-icon":!0,model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[s("el-form-item",{attrs:{label:"使用试卷",prop:"quiz"}},[e.$route.query.id?s("el-tag",{attrs:{type:"success"}},[e._v(e._s(e.ruleForm.quiz_name))]):[e.ruleForm.quiz?s("div",[e._v(e._s(e.currentRow.name)+"\n            "),s("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){e.dialogTableVisible=!0}}},[s("i",{staticClass:"el-icon-plus"}),e._v(" 更换试卷")])],1):s("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){e.dialogTableVisible=!0}}},[s("i",{staticClass:"el-icon-plus"}),e._v(" 添加试卷")])]],2),e._v(" "),s("el-form-item",{attrs:{label:"场次名称",prop:"name"}},[s("el-input",{attrs:{"suffix-icon":"el-icon-edit",placeholder:"请输入场次名称"},model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"开放时间",prop:"timerange"}},[s("el-date-picker",{attrs:{type:"datetimerange","suffix-icon":"el-icon-date","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.ruleForm.timerange,callback:function(t){e.$set(e.ruleForm,"timerange",t)},expression:"ruleForm.timerange"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"场次描述",prop:"message"}},[s("el-input",{attrs:{type:"textarea",placeholder:"关于本场考试的简单描述和考试的相关事项"},model:{value:e.ruleForm.message,callback:function(t){e.$set(e.ruleForm,"message",t)},expression:"ruleForm.message"}})],1),e._v(" "),s("el-form-item",[e.$route.query.id?s("el-button",{attrs:{type:"primary"},on:{click:function(t){e.editForm("ruleForm")}}},[e._v("立即修改")]):s("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("ruleForm")}}},[e._v("立即创建")]),e._v(" "),s("el-button",{on:{click:function(t){e.resetForm("ruleForm")}}},[e._v("重置")])],1)],1)],1),e._v(" "),s("section",[s("el-dialog",{attrs:{"close-on-click-modal":!1,"show-close":!1,title:"选择试卷模板",width:"80%",visible:e.dialogTableVisible},on:{"update:visible":function(t){e.dialogTableVisible=t}}},[s("el-table",{attrs:{"highlight-current-row":"",height:"300",stripe:!0,data:e.paperGridData},on:{"current-change":e.handleCurrentTableChange}},[s("el-table-column",{attrs:{type:"index",width:"50"}}),e._v(" "),s("el-table-column",{attrs:{prop:"name",label:"试卷名称"}}),e._v(" "),s("el-table-column",{attrs:{prop:"classroom",label:"课堂名称",width:"230"}}),e._v(" "),s("el-table-column",{attrs:{label:"试卷时长",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("i",{staticClass:"el-icon-time"}),e._v(" "),s("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.timelimit))])]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"试卷总分",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-tag",{attrs:{type:"success","close-transition":""}},[e._v(e._s(t.row.grade))])]}}])}),e._v(" "),s("el-table-column",{attrs:{label:"创建时间",width:"170"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("i",{staticClass:"el-icon-date"}),e._v(" "),s("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.timecreated))])]}}])}),e._v(" "),s("el-table-column",{attrs:{prop:"auth",label:"试卷作者",width:"150"}})],1),e._v(" "),s("el-pagination",{attrs:{background:"","current-page":e.paperTablePage.current_page,"page-size":e.paperTablePage.last_page,layout:"total, prev, pager, next",total:e.paperTablePage.total},on:{"current-change":e.handleCurrentChangePage,"update:currentPage":function(t){e.$set(e.paperTablePage,"current_page",t)}}}),e._v(" "),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:e.cancel}},[e._v("取 消")]),e._v(" "),s("el-button",{attrs:{type:"primary"},on:{click:e.getTablePaperData}},[e._v("确 定")])],1)],1)],1)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("span",[t("i",{staticClass:"el-icon-d-arrow-right"}),this._v("添加考试场次")])}]};var M=s("C7Lr")(O,R,!1,function(e){s("4G2n")},null,null).exports,V={data:function(){return{paperdata:{id:"",name:"",message:"",starttime:"",endtime:"",limittime:"",check:"",attempts:"",quiz:"",quiz_name:"",auth:"",timecreated:"",sections:{section:[],sections:[]}}}},mounted:function(){this.getPaperInfo()},methods:{readPosition:function(e){console.log(e)},subPass:function(){var e=this;this.$confirm("审核通过的考试场次不能在做任何修改, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$ajax.post(e.Const.apiUrl,{module:"exam",controller:"project",action:"audit",id:e.$route.query.d,status:1,msg:""}).then(function(t){console.log("审核通过的提交",t);var s=t.data;0==s.status?e.$message({type:"success",message:"审核成功！"}):e.$message({type:"info",message:s.data||"审核失败！"})}).catch(function(t){e.$message({type:"error",message:"审核失败！"})})}).catch(function(){})},subNoPass:function(){var e=this;this.$prompt("请输入此考试场次审核不通过原因","提示",{confirmButtonText:"确定",cancelButtonText:"取消",inputPattern:/\S/,inputErrorMessage:"请输入此考试场次审核不通过原因"}).then(function(t){var s=t.value;e.$ajax.post(e.Const.apiUrl,{module:"exam",controller:"project",action:"audit",id:e.$route.query.d,status:2,msg:s}).then(function(t){console.log("审核bu通过的提交",t);var s=t.data;0==s.status?e.$message({type:"success",message:"审核成功！"}):e.$message({type:"info",message:s.data||"审核失败！"})}).catch(function(t){e.$message({type:"error",message:"审核失败！"})})}).catch(function(){})},getPaperInfo:function(){var e=this;this.$ajax.post(this.Const.apiUrl,{module:"exam",controller:"project",action:"details",id:this.$route.query.d}).then(function(t){var s=t.data;0==s.status?e.paperdata=s.data:e.$message({type:"info",message:s.data||"获取场次信息失败"})}).catch(function(t){e.$message({type:"error",message:"获取场次信息失败:"+t.message})})}},watch:{$route:{handler:function(e,t){e.query.d&&this.getPaperInfo()},deep:!0}}},I={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"main clearfix",attrs:{id:"checkpaper"}},[s("div",{staticClass:"title"},["check"==e.$route.query.type?s("span",[s("i",{staticClass:"el-icon-d-arrow-right"}),e._v("审核考试场次")]):e._e(),e._v(" "),"read"==e.$route.query.type?s("span",[s("i",{staticClass:"el-icon-d-arrow-right"}),e._v("查看考试场次")]):e._e(),e._v(" "),s("div",{staticClass:"fr"},[s("el-button",{attrs:{round:"",type:"primary",plain:""},on:{click:function(t){e.$router.back(-1)}}},[e._v("返回")])],1)]),e._v(" "),s("aside",{staticClass:"aside-bar"},[e._m(0),e._v(" "),"check"==e.$route.query.type?s("div",{staticClass:"check-btn"},[s("el-button-group",[s("el-button",{attrs:{type:"primary"},on:{click:e.subPass}},[s("i",{staticClass:"el-icon-check"})]),e._v(" "),s("el-button",{attrs:{type:"primary"},on:{click:e.subNoPass}},[s("i",{staticClass:"el-icon-close"})])],1)],1):e._e()]),e._v(" "),s("div",{staticClass:"check-wrap"},[s("div",{staticClass:"item"},[s("p",{staticClass:"item-title"},[e._v("试卷名称")]),e._v(" "),s("p",{staticClass:"item-con"},[s("el-button",{attrs:{plain:"",type:"success"},on:{click:function(t){e.readPosition(e.paperdata.quiz)}}},[s("i",{staticClass:"el-icon-view"}),e._v(" "+e._s(e.paperdata.quiz_name))])],1)]),e._v(" "),s("div",{staticClass:"item"},[s("p",{staticClass:"item-title"},[e._v("场次名称")]),e._v(" "),s("p",{staticClass:"item-con"},[e._v(e._s(e.paperdata.name))])]),e._v(" "),s("div",{staticClass:"item"},[s("p",{staticClass:"item-title"},[e._v("场次状态")]),e._v(" "),s("p",{staticClass:"item-con"},[1==e.paperdata.check?s("el-tag",{attrs:{type:"danger"}},[e._v("考试未开始")]):e._e(),e._v(" "),2==e.paperdata.check?s("el-tag",{attrs:{type:"danger"}},[e._v("考试中")]):e._e(),e._v(" "),3==e.paperdata.check?s("el-tag",{attrs:{type:"danger"}},[e._v("考试结束")]):e._e(),e._v(" "),4==e.paperdata.check?s("el-tag",{attrs:{type:"danger"}},[e._v("待审核")]):e._e(),e._v(" "),5==e.paperdata.check?s("el-tag",{attrs:{type:"danger"}},[e._v("审核未通过")]):e._e()],1)]),e._v(" "),s("div",{staticClass:"item"},[s("p",{staticClass:"item-title"},[e._v("开放时间")]),e._v(" "),s("p",{staticClass:"item-con"},[e._v(e._s(e.paperdata.starttime)+" ~ "+e._s(e.paperdata.endtime))])]),e._v(" "),s("div",{staticClass:"item"},[s("p",{staticClass:"item-title"},[e._v("考试时长")]),e._v(" "),s("p",{staticClass:"item-con"},[s("el-tag",{attrs:{type:"danger"}},[e._v(e._s(e.paperdata.limittime))])],1)]),e._v(" "),s("div",{staticClass:"item"},[s("p",{staticClass:"item-title"},[e._v("答题次数")]),e._v(" "),s("p",{staticClass:"item-con"},[s("el-tag",{attrs:{type:"warning"}},[e._v(e._s(e.paperdata.attempts)+" 次")])],1)]),e._v(" "),s("div",{staticClass:"item"},[s("p",{staticClass:"item-title"},[e._v("创建者名")]),e._v(" "),s("p",{staticClass:"item-con"},[s("el-tag",{attrs:{type:"success"}},[e._v(e._s(e.paperdata.auth))])],1)]),e._v(" "),s("div",{staticClass:"item",staticStyle:{height:"80px"}},[s("p",{staticClass:"item-title"},[e._v("所属章节")]),e._v(" "),s("p",{staticClass:"item-con"},[e._l(e.paperdata.section,function(t,a){return s("el-tag",{key:a},[e._v(e._s(t))])}),e._v(" "),e._l(e.paperdata.sections,function(t,a){return s("el-tag",{key:a},[e._v(e._s(t))])})],2)]),e._v(" "),s("div",{staticClass:"item"},[s("p",{staticClass:"item-title"},[e._v("场次描述")]),e._v(" "),s("p",{staticClass:"item-con"},[e._v(e._s(e.paperdata.message))])]),e._v(" "),5==e.paperdata.check||4==e.paperdata.check?s("p",{staticClass:"check-status nopass"},[s("i",{staticClass:"el-icon-close"})]):s("p",{staticClass:"check-status pass"},[s("i",{staticClass:"el-icon-check"})])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"list-title"},[t("span",[this._v("考试场次信息")]),this._v(" "),t("i",{attrs:{id:"test-title"}})])}]};var E=s("C7Lr")(V,I,!1,function(e){s("QbNM")},null,null).exports;n.default.use(l.a);var U=new l.a({routes:[{path:"/",redirect:"/index"},{path:"/index",name:"index",component:p},{path:"/position",name:"positionindex",component:h},{path:"/position/posi",name:"posi",component:k},{path:"/posi/edittest",name:"edittest",component:A},{path:"/posi/previewtest",name:"previewtest",component:S},{path:"/posi/additems",name:"additems",component:j},{path:"/paper",name:"paperindex",component:D},{path:"/paper/addpaper",name:"addpaper",component:M},{path:"/paper/checkpaper",name:"checkpaper",component:E}]}),H=s("H93t"),G=s.n(H),X=(s("TsY+"),s("aozt")),K=s.n(X);n.default.use(G.a);var J,Z,Y={userMsg:window.localStorage.getItem("userMsg"),projectRoot:window.localStorage.getItem("ProjectRoot"),def_auth_token:window.sessionStorage.getItem("auth_token"),courseData:window.location.href};n.default.prototype.Const={userMsg:Y.userMsg?JSON.parse(Y.userMsg):null,apiUrl:Y.projectRoot+"index/api/index",login:Y.projectRoot+"index/index/login",STATIC:Y.projectRoot?Y.projectRoot.replace("index.php/","public/edumodel/examine/"):"",courseData:(J=Y.courseData,Z=/^(?:([A-Za-z]+):)?(\/{0,3})([0-9.\-A-Za-z]+)(?::(\d+))?(?:\/([^?#]*))?(?:\?([^#]*))?(?:#(.*))?$/.exec(J),{url:Z[0],scheme:Z[1],slash:Z[2],host:Z[3],port:Z[4]||"80",path:Z[5],query:function(e){if(0===e.length)return{};for(var t={},s=0;s<e.length;s++){var a=e[s].split("=");2==a.length&&(t[a[0]]=decodeURIComponent(a[1].replace(/\+/g," ")))}return t}(Z[6].split("&")),hash:Z[7]}),optionsTab:"ABCDEFGHIGKLMNOPQRSTUVWXYZ",papercheckList:[{value:"",name:"全部"},{value:"1",name:"创建成功"},{value:"2",name:"创建中"},{value:"3",name:"考试中"},{value:"4",name:"考试结束"},{value:"5",name:"审核中"},{value:"6",name:"审核通过"},{value:"7",name:"审核未通过"}],paperexamtypeList:[{value:"",name:"全部"},{value:"0",name:"测试"},{value:"1",name:"考试"}],qusepermissList:[{value:"0",name:"通用"},{value:"1",name:"仅个人"},{value:"2",name:"仅考试"}],bankTypeList:[{value:"singlechoice",name:"单选题"},{value:"multiplechoice",name:"多选题"},{value:"truefalse",name:"判断题"},{value:"shortanswer",name:"填空题"},{value:"match",name:"匹配题"},{value:"essay",name:"简答题"},{value:"comprehensive",name:"综合解答题"},{value:"readingcomprehension",name:"阅读理解"}],complexityList:[{name:"容易",value:"1"},{name:"适中",value:"2"},{name:"困难",value:"3"}]},K.a.defaults.timeout=1e4,K.a.interceptors.request.use(function(e){var t=window.sessionStorage.getItem("auth_token");return e.headers.Authorization=t||Y.def_auth_token,e},function(e){return i.a.reject(e)}),K.a.interceptors.response.use(function(e){return 0==e.data.status?window.sessionStorage.setItem("auth_token",e.data.auth_token):9999==e.data.status&&(window.location.href=Y.projectRoot+"index/index/login"),e},function(e){return i.a.reject(e)}),n.default.prototype.$ajax=K.a,n.default.config.productionTip=!1,new n.default({el:"#app",router:U,components:{App:o},template:"<App/>"}),s("tR5l"),s("ve5z")},NzCe:function(e,t,s){"use strict";(function(e){t.a={data:function(){return{courseid:this.$route.query.id,page:{currentPage:1,pageSize:5,total:0},statusChoose:[],weather:!1,num:1,checkList:this.Const.checkList,qusepermiseList:this.Const.qusepermissList,knowledgePointList:[{value:"1231",name:"知识点1"},{value:"123112312",name:"知识点2"}],bankTypeList:this.Const.bankTypeList,complexityList:this.Const.complexityList,previewArr:[],customByUser:[],searchPrevArr:[],radioType:"all",dialogTableVisible:!1,pickerTimeOptions:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,s=new Date;s.setTime(s.getTime()-6048e5),e.$emit("pick",[s,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,s=new Date;s.setTime(s.getTime()-2592e6),e.$emit("pick",[s,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,s=new Date;s.setTime(s.getTime()-7776e6),e.$emit("pick",[s,t])}}]},questionNum:{totalbank:200,pass:100,nopass:50,waitpass:50,papername:"",startTime:"",endTime:"",totalScore:0},search:{qusepermise:"0",knowledgePoint:"",bankType:"",searchCon:"",complexity:"",rangeTime:"",selectedOptions:[]},selectItem:{selectAll:!1,isIndeterminate:!0,quesIdList:[]},options:[{value:"章id",label:"第一章",children:[{value:"节id1",label:"第一节"},{value:"节id2",label:"第二节"}]}],selectedOptions:[],dialogFormVisible:!1,userChooseForm:{number:"",type:"",grade:"",isadd:!1},formLabelWidth:"80px",rules:{grade:[{required:!0,message:"请输入分数",trigger:"blur"},{type:"number",message:"只能为数字"}],number:[{required:!0,message:"请输入个数",trigger:"blur"},{type:"integer",message:"只能为整数数字"}],type:[{required:!0,message:"请至少选择一个题目类型",trigger:"change"}]},addBankType:[],sideshowhide:!1,searchQuestionList:[]}},mounted:function(){this.getQuestionData(),this.showhideSideBar(),this.getQuizDetail(),this.getQuestionNum()},methods:{showhideSideBar:function(){var t=this;e(window).scroll(function(){var s=e(document).scrollTop();t.sideshowhide=s>400})},fnGoTop:function(){e("html, body").animate({scrollTop:"0"})},handleSizeChange:function(e){console.log(e)},handleCurrentChange:function(e){console.log(e)},fnAddBank:function(){this.$router.push({path:"/addbank"})},fnEdit:function(e){this.$router.push({path:"/edit/"+e})},customByUserMethod:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;if(t.statusChoose.filter(function(e){return e.qtype==t.userChooseForm.type&&e.grade==t.userChooseForm.grade}).length)for(var s,a=0;s=t.statusChoose[a];a++)s.qtype==t.userChooseForm.type&&(s.number+=t.userChooseForm.number);else t.statusChoose.push({qtype:t.userChooseForm.type,number:t.userChooseForm.number,grade:t.userChooseForm.grade,status:0});t.search.bankType=t.userChooseForm.type,t.dialogFormVisible=!1,t.userChooseForm.isadd=!0,t.getQuestionData()})},openDetailsChange:function(e,t){console.log(e,t),this.previewArr.filter(function(t){return t.qtype==e.qtype&&t.grade==e.grade}).length==e.number||(this.userChooseForm={number:e.number,type:e.qtype,grade:e.grade,isadd:!0},this.search.bankType=e.qtype,this.getQuestionData())},fnReadCheckMsg:function(e){this.$message({type:"error",message:"审核原因"})},tranforAll:function(e,t){return t.filter(function(t){return t.value==e})[0].name},tranforQtypeTable:function(e,t,s,a){return this.bankTypeList.filter(function(e){return e.value==s})[0].name},formatterQuesNum:function(e,t,s,a){return this.previewArr.filter(function(t){return t.qtype==e.qtype&&t.grade==e.grade}).length+" / "+e.number},recoverList:function(e){this.previewArr=this.previewArr.filter(function(t){return e.id!=t.id}),this.questionNum.totalScore=this.questionNum.totalScore-e.grade,this.showPartType(this.radioType),this.searchQuestionList.push(e);for(var t=!1,s=0;s<this.searchPrevArr.length;s++)this.searchPrevArr[s].qtype===e.qtype&&(t=!0);t||(this.addBankType=this.addBankType.filter(function(t){return t.value!==e.qtype}))},showPartType:function(e){this.searchPrevArr="all"===e?this.previewArr:this.previewArr.filter(function(t){return e===t.qtype})},pushArr:function(e,t){var s=this,a=this;if(this.previewArr.filter(function(e){return s.userChooseForm.type===e.qtype}).length==this.userChooseForm.number)this.$message({type:"info",message:"当前题型已经添加完成，如还需添加题目，请继续选择添加试题！"}),this.userChooseForm.isadd=!1;else{for(var i,n=0;i=this.previewArr[n];n++)if(i.id==e.id)return void this.$message({type:"info",message:"该题目已经添加了"});e.grade=this.userChooseForm.grade,this.previewArr.push(e)}for(var r=0,o=0;o<this.previewArr.length;o++)r+=this.previewArr[o].grade;r<=100?(this.questionNum.totalScore=r,100-this.questionNum.totalScore<=10&&this.$message({type:"info",message:"快到100分啦，请合适分配剩下的分数！"})):(this.previewArr.pop(),this.$message({type:"error",message:"已经超出100分，请重新选题！"})),this.searchPrevArr=this.previewArr,this.searchQuestionList.splice(t,1);var l=this.bankTypeList.filter(function(t){var s=function(){for(var t=0;t<a.addBankType.length;t++)if(a.addBankType[t].value===e.qtype)return!0;return!1}();return t.value===e.qtype&&!s});l.length&&this.addBankType.push(l[0])},getQuestionData:function(){var e=this,t={module:"exam",controller:"Question",action:"classroomList",course:"",classroom:this.Const.courseData.query.d,section:this.search.selectedOptions[1]?this.search.selectedOptions[0]:"",sections:this.search.selectedOptions[1]?this.search.selectedOptions[1]:"",qtype:this.search.bankType,kwords:this.search.searchCon,check:this.search.check,diff:this.search.complexity,usepermise:this.search.qusepermise,page:this.page.currentPage,rows:this.page.pageSize};this.$ajax.post(this.Const.apiUrl,t).then(function(t){console.log("调用API接口从后台获取试题信息",t);var s=t.data;0==s.status?(e.searchQuestionList=s.data.data,e.page.currentPage=s.data.page.current_page,e.page.total=s.data.page.total):e.$message({type:"info",message:s.data?s.data:"获取数据失败！"})}).catch(function(t){e.$message({type:"error",message:"查询失败，请检查本地网络！"})})},getQuizDetail:function(){var e=this,t={module:"exam",controller:"Quiz",action:"quizDetail",id:this.$route.query.id};this.$ajax.post(this.Const.apiUrl,t).then(function(t){console.log("获取试卷详情接口",t);var s=t.data;0==s.status?(e.questionNum.papername=s.data.name,e.questionNum.startTime=s.data.timeopen,e.questionNum.endTime=s.data.timeclose):e.$message({type:"error",message:"请求API接口失败！"})}).catch(function(t){e.$message({type:"error",message:"查询失败，请检查本地网络！"})})},submitAddQues:function(){var e=this;this.dialogTableVisible=!1,console.log("previewArr:",this.previewArr);for(var t,s=[],a=0;t=this.previewArr[a];a++)if(s.length)for(var i,n=0;i=s[n];n++)i.qtype!=t.qtype||i.score!=t.grade||i.question.join().includes(t.id)?i.qtype==t.qtype&&i.score==t.grade||s.push({qtype:t.qtype,score:t.grade,question:new Array(t.id)}):(i.question.push(t.id),i.qtype=t.qtype,i.score=t.grade);else s.push({qtype:t.qtype,score:t.grade,question:new Array(t.id)});var r={module:"exam",controller:"Quiz",action:"handAddQuestion",quiz:this.$route.query.id,questions:s};console.log(1111,s,r),this.$ajax.post(this.Const.apiUrl,r).then(function(t){var s=t.data;0==s.status?e.$message({type:"success",message:s.data?"提交成功！":"提交失败！"}):e.$message({type:"error",message:"提交失败！"})}).catch(function(t){e.$message({type:"error",message:"查询失败，请检查本地网络！"})})},getQuestionNum:function(){var e=this,t={module:"exam",controller:"Question",action:"getQuestionNum",id:this.Const.courseData.query.d};this.$ajax.post(this.Const.apiUrl,t).then(function(t){console.log("获取试题数量",t);var s=t.data;0==s.status?(console.log(s),e.questionNum.totalbank=s.data.number):e.$message({type:"error",message:s.data||"请求API接口失败！"})}).catch(function(t){e.$message({type:"error",message:"查询失败，请检查本地网络！"})})}},computed:{}}}).call(t,s("L7Pj"))},QbNM:function(e,t){},"TsY+":function(e,t){},UOFZ:function(e,t,s){"use strict";(function(e){t.a={data:function(){return{courseid:this.$route.query.id,classroom:"11111",page:{currentPage:1,pageSize:5,total:0},time:[],search:{limittime:"",name:"",status:"0"},sectionsList:[],sectionsProp:{value:"id",label:"name",children:"children"},sectionsOptions:[],sideshowhide:!1,paperList:[]}},mounted:function(){this.showhideSideBar(),this.requestFn(),this.loadSections()},methods:{sectionsChange:function(e){},showhideSideBar:function(){var t=this;e(window).scroll(function(){var s=e(document).scrollTop();t.sideshowhide=s>400})},fnGoTop:function(){e("html, body").animate({scrollTop:"0"})},handleSizeChange:function(e){this.page.pageSize=e,this.requestFn()},handleCurrentChange:function(e){this.page.currentPage=e,this.requestFn()},fnAddPaper:function(){this.$router.push({path:"/paper/addpaper"})},fnReadPaper:function(e){this.$router.push({path:"/paper/checkpaper",query:{d:e,type:"read"}})},fnCheckPaper:function(e){this.$router.push({path:"/paper/checkpaper",query:{d:e,type:"check"}})},fnDelete:function(e){var t=this;this.$confirm("此操作将永久删除该考试场次, 是否继续?","提示",{confirmButtonText:"确定",canncelButtonText:"取消",type:"warning"}).then(function(s){var a={model:"exam",contorller:"Project",action:"delProject",id:e};t.Const.post(t.Const.apiUrl,a).then(function(e){0==e.data.status?t.$message({type:"success",message:"删除成功！"}):t.$message({type:"info",message:"删除失败！"})}).catch(function(e){t.$message({type:"error",message:"删除失败！"})})}).catch(function(e){t.$message({type:"info",message:"已取消删除"})})},fnEdit:function(e){this.$router.push({path:"/paper/addpaper?id="+e})},loadSections:function(){var e=this,t={module:"service",controller:"Classroom_Sections_Con",action:"getSections",id:this.Const.courseData.query.d};this.$ajax.post(this.Const.apiUrl,t).then(function(t){0==t.data.status?e.sectionsList=t.data.data:e.$message({type:"info",message:t.data.data||"获取章节信息失败！"})}).catch(function(t){e.$message({type:"error",message:"获取章节信息失败！"})})},requestFn:function(){var e=this,t={module:"exam",controller:"project",action:"index",name:this.search.name,starttime:this.time[0],endtime:this.time[1],limittime:this.search.limittime,classroom:this.Const.courseData.query.d,sections:"",page:this.page.currentPage,rows:this.page.pageSize};this.$ajax.post(this.Const.apiUrl,t).then(function(t){var s=t.data;0==s.status?(e.paperList=s.data.data,e.page.currentPage=s.data.page.current_page,e.page.total=s.data.page.total):e.$message({type:"info",message:s.data||"场次列表获取失败！"})}).catch(function(t){e.$message({type:"error",message:t.message})})}},computed:{}}}).call(t,s("L7Pj"))},ckAV:function(e,t,s){"use strict";(function(e){t.a={data:function(){return{bankInfo:{createdbyid:"",uploadbyid:"",grade:"",check:"",intro:"",name:"",examtype:"",timeopen:"",timeclose:"",timelimit:"",grademethod:"",sectionname:"",sectionsname:"",shufflequestions:""},bankTypeList:this.Const.bankTypeList,allBankList:[],previewList:[],selTag:"danxuan",questionTypeList:[],isTop:!1,pagesizes:[5,10,20,30,40],totals:40,pagesize:10,currentPage:4}},mounted:function(){var t=this;e(window).scroll(function(){t.isTop=e(window).scrollTop()>200}),this.requAllBank(),this.requBankInfo()},methods:{swichchapters:function(e){this.selTag=e},goBacktop:function(){return e("html").scrollTop()?(e("html").animate({scrollTop:0},1e3),!1):(e("body").animate({scrollTop:0},1e3),!1)},handleSizeChange:function(e){console.log("每页 "+e+" 条")},handleCurrentChange:function(e){console.log("当前页: "+e)},tranforAll:function(e,t){return t.filter(function(t){return t.value==e})[0].name},subPass:function(){var e=this;this.$confirm("审核通过的试卷不能在做任何修改, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$ajax.post(e.Const.apiUrl,{module:"exam",controller:"Quiz",action:"audit",id:e.$route.query.d,status:"0",msg:""}).then(function(t){0==t.data.status?e.$message({type:"success",message:"审核成功！"}):e.$message({type:"info",message:"审核失败！"})}).catch(function(t){e.$message({type:"error",message:"审核失败！"})})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},subNoPass:function(){var e=this;this.$prompt("请输入此试卷审核不通过原因","提示",{confirmButtonText:"确定",cancelButtonText:"取消",inputPattern:/\S/,inputErrorMessage:"请输入此试卷审核不通过原因"}).then(function(t){var s=t.value;e.$ajax.post(e.Const.apiUrl,{module:"exam",controller:"Quiz",action:"audit",id:e.$route.query.d,status:"1",msg:s}).then(function(t){0==t.data.status?e.$message({type:"success",message:"审核成功！"}):e.$message({type:"info",message:"审核失败！"})}).catch(function(t){e.$message({type:"error",message:"审核失败！"})})}).catch(function(){e.$message({type:"info",message:"取消输入"})})},requAllBank:function(){var e=this,t=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});this.$ajax.post(this.Const.apiUrl,{module:"exam",controller:"Quiz",action:"getQuizQuestionList",quiz:this.$route.query.d}).then(function(s){t.close(),console.log("试题list",s);var a=s.data;if(0==a.status){e.allBankList=a.data;for(var i,n=0;i=e.allBankList[n];n++){for(var r,o=!1,l=0;r=e.questionTypeList[l];l++)if(i.qtype===r.tag){o=!0;break}o||e.questionTypeList.push({tag:i.qtype})}e.selTag=e.questionTypeList.length?e.questionTypeList[0].tag:""}else e.allBankList=[],e.$message({type:"info",message:a.data?a.data:"获取信息失败！"})}).catch(function(s){t.close(),e.$message({type:"error",message:"获取信息失败！"})})},requBankInfo:function(){var e=this;this.$ajax.post(this.Const.apiUrl,{module:"exam",controller:"Quiz",action:"quizDetail",id:this.$route.query.d}).then(function(t){var s=t.data;0==s.status?e.bankInfo=s.data:e.$message({type:"info",message:"获取试卷属性失败！"})}).catch(function(t){e.$message({type:"error",message:"获取试卷属性失败！"})})}},filters:{shufflequestionsTranform:function(e){return 0==e?"自动选题":"手动选题"},gradeTransform:function(e){return parseInt(e)},examtypeTransform:function(e){return 0==e?"测试":"考试"},transformTypeTag:function(e,t){var s=t.filter(function(t){return e==t.value});return s.length?s[0].name:""}},watch:{$route:{handler:function(e,t){e.query.d&&this.requBankInfo()},deep:!0},selTag:{handler:function(){var e=this;this.previewList=this.allBankList.filter(function(t){return e.selTag===t.qtype})},immediate:!0}}}}).call(t,s("L7Pj"))},clar:function(e,t){},"i+Xe":function(e,t){},tCKk:function(e,t,s){"use strict";(function(e){t.a={data:function(){return{search:{type:null,number:null,keyword:null,difficulty:null,tag:null},options:[{value:"23123123",label:"选择题"},{value:"124342342",label:"填空题"},{value:"12312131",label:"问答题"}],difficulty:[{value:"选项1",label:"难度A"},{value:"选项2",label:"难度B"},{value:"选项3",label:"难度C"}],selTag:11,paperList:[{id:"11",name:"判断题",choiceA:"是",choiceB:"否",author:"",create:"",nmber:"",fenzhi:"",isSel:!1},{id:"22",name:"判断题",choiceA:"是",choiceB:"否",isSel:!1}],checkAll:!1,isIndeterminate:!1,checked:!1,topicNumber:[{value:"选项1",label:"每页15条"},{value:"选项2",label:"每页10条"},{value:"选项3",label:"每页5条"}],value:"",selQuestionList:[],isTop:!1,pagesizes:[5,10,20,30,40],totals:40,pagesize:10,currentPage:4}},mounted:function(){console.log(this.$refs);var t=this;e(window).scroll(function(){e(window).scrollTop()>200?(t.isTop=!0,console.log("aaa")):(t.isTop=!1,console.log("bbb"))})},methods:{swichchapters:function(e){this.selTag=e},handleCheckAllChange:function(e){this.checkAll?(this.paperList=this.paperList.map(function(e){return e.isSel=!0,e}),this.selQuestionList=this.paperList.map(function(e){return e.id})):(this.paperList=this.paperList.map(function(e){return e.isSel=!1,e}),this.selQuestionList=[]),this.isIndeterminate=!1},fnDealSelQuestion:function(e){e.isSel?this.selQuestionList.push(e.id):this.selQuestionList=this.selQuestionList.filter(function(t){return t!==e.id}),this.selQuestionList.length&&this.selQuestionList.length<this.paperList.length?this.isIndeterminate=!0:this.selQuestionList.length===this.paperList.length?(this.isIndeterminate=!1,this.checkAll=!0):(this.isIndeterminate=!1,this.checkAll=!1)},TODO:function(){},goBacktop:function(){return e("html").scrollTop()?(e("html").animate({scrollTop:0},1e3),!1):(e("body").animate({scrollTop:0},1e3),!1)},handleSizeChange:function(e){console.log("每页 "+e+" 条")},handleCurrentChange:function(e){console.log("当前页: "+e)}},watch:{questionListNumber:function(e,t){console.log("aaa")}}}}).call(t,s("L7Pj"))},tR5l:function(e,t){},"v+xG":function(e,t){},ve5z:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.d702d70d40f31055a776.js.map