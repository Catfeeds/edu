webpackJsonp([1],{"/wAv":function(e,t){e.exports="data:image/png;base64,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"},"1mP0":function(e,t){},"8gsu":function(e,t,s){"use strict";(function(e){t.a={data:function(){return{courseid:this.Const.courseData.query.d,page:{currentPage:1,pageSize:5,total:0},checkList:[{id:"2",name:"审核未通过"},{id:"3",name:"申请审核"}],qusepermissList:this.Const.qusepermissList,knowledgePointList:[],sectionProps:{value:"id",label:"name",children:"child"},bankTypeList:this.Const.bankTypeList,complexityList:this.Const.complexityList,pickerTimeOptions:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,s=new Date;s.setTime(s.getTime()-6048e5),e.$emit("pick",[s,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,s=new Date;s.setTime(s.getTime()-2592e6),e.$emit("pick",[s,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,s=new Date;s.setTime(s.getTime()-7776e6),e.$emit("pick",[s,t])}}]},questionNum:{nopass:0,waitpass:0},search:{check:"3",qusepermise:"",knowledgePoint:[],bankType:"",searchCon:"",complexity:"",rangeTime:""},selectItem:{selectAll:!1,isIndeterminate:!1,quesIdList:[]},sideshowhide:!1,questionLists:[]}},mounted:function(){this.showhideSideBar(),this.getBankNums(),this.requestSections(),this.requestBankAll()},methods:{requestSections:function(){var e=this;this.$ajax.post(this.Const.apiurl,{module:"service",controller:"Course_Sections_Con",action:"queSections",courseid:this.courseid}).then(function(t){var s=t.data;0===s.status?e.knowledgePointList=s.data:e.$message({type:"info",message:s.data?s.data:"知识点数据获取失败！"})}).catch(function(t){e.$message({type:"error",message:"请求知识点数据失败！"})})},requestBankAll:function(){var e=this,t={module:"exam",controller:"Question",action:"questionList",course:this.courseid,classroom:"",section:this.search.knowledgePoint[0]?this.search.knowledgePoint[0]:"",sections:this.search.knowledgePoint[1]?this.search.knowledgePoint[1]:"",kwords:this.search.searchCon,qtype:this.search.bankType,check:this.search.check,diff:this.search.complexity,usepermise:this.search.qusepermise,page:this.page.currentPage,rows:this.page.pageSize};this.$ajax.post(this.Const.apiurl,t).then(function(t){console.log("成功",t);var s=t.data;0==s.status?(e.questionLists=s.data.data,e.page.currentPage=s.data.page.current_page,e.page.total=s.data.page.total):e.$message({type:"info",message:s.data?s.data:"请求试题列表失败，请检查本地网络！"})}).catch(function(t){e.$message({type:"error",message:"请求试题列表失败，请检查本地网络！"})})},checkPass:function(e){var t=this;this.$confirm("审核通过的试题不能再做任何修改, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var s={module:"exam",controller:"Question",action:"checkQuestion",id:e,status:"1",msg:""};t.$ajax.post(t.Const.apiurl,s).then(function(e){var s=e.data;0==s.status?(t.$message({type:"success",message:s.data?s.data:"操作成功！"}),t.requestBankAll()):t.$message({type:"info",message:s.data?s.data:"操作失败！"})}).catch(function(e){t.$message({type:"error",message:"请求失败，请检查本地网络！"})})}).catch(function(){})},checkNoPass:function(e){var t=this;this.$prompt("试题审核不通过原因","提示",{confirmButtonText:"确定",cancelButtonText:"取消",inputPattern:/\S/,inputErrorMessage:"试题审核不通过原因不能为空"}).then(function(s){var i=s.value,a={module:"exam",controller:"Question",action:"checkQuestion",id:e,status:"2",msg:i};t.$ajax.post(t.Const.apiurl,a).then(function(e){var s=e.data;0==s.status?(t.$message({type:"success",message:s.data?s.data:"操作成功！"}),t.requestBankAll()):t.$message({type:"info",message:s.data?s.data:"操作失败！"})}).catch(function(e){t.$message({type:"error",message:"请求失败，请检查本地网络！"})})}).catch(function(){t.$message({type:"info",message:"取消输入"})})},showhideSideBar:function(){var t=this;e(window).scroll(function(){var s=e(document).scrollTop();t.sideshowhide=s>400})},fnGoTop:function(){e("html, body").animate({scrollTop:"0"})},handleSizeChange:function(e){this.page.pageSize=e,this.requestBankAll()},handleCurrentChange:function(e){this.page.currentPage=e,this.requestBankAll()},fnAddBank:function(){this.$router.push({path:"/addbank"})},tranformL:function(e,t){var s=t.filter(function(t){return t.value==e});return s[0]?s[0].name:""},getBankNums:function(){var e=this;this.$ajax.post(this.Const.apiurl,{module:"exam",controller:"Question",action:"getQuestionNum",id:this.Const.courseData.query.d}).then(function(t){console.log("试题数量",t);var s=t.data;0==s.status?(e.questionNum.nopass=s.data[2]?s.data[2].number:0,e.questionNum.waitpass=s.data[3]?s.data[3].number:0):e.$message({type:"info",message:s.data?s.data:"请求试题数量错误！"})})}},computed:{}}}).call(t,s("7t+N"))},IMje:function(e,t){},KJsW:function(e,t){},KbAT:function(e,t,s){"use strict";var i={name:"VueUEditor",props:{ueditorPath:{type:String,default:"/static/ueditor1_4_3_3/"},ueditorConfig:{type:Object,default:function(){return{}}}},data:function(){return{randomId:"editor_"+1e17*Math.random(),instance:null,scriptTagStatus:0}},created:function(){void 0!==window.UE?(this.scriptTagStatus=2,this.initEditor()):this.insertScriptTag()},beforeDestroy:function(){null!==this.instance&&this.instance.destroy&&this.instance.destroy()},methods:{insertScriptTag:function(){var e=this,t=document.getElementById("editorScriptTag"),s=document.getElementById("configScriptTag");if(null===t){(s=document.createElement("script")).type="text/javascript",s.src=this.ueditorPath+"ueditor.config.js",s.id="configScriptTag",(t=document.createElement("script")).type="text/javascript",t.src=this.ueditorPath+"ueditor.all.js",t.id="editorScriptTag";var i=document.getElementsByTagName("head")[0];i.appendChild(s),i.appendChild(t)}s.loaded?this.scriptTagStatus++:s.addEventListener("load",function(){e.scriptTagStatus++,s.loaded=!0,e.initEditor()}),t.loaded?this.scriptTagStatus++:t.addEventListener("load",function(){e.scriptTagStatus++,t.loaded=!0,e.initEditor()}),this.initEditor()},initEditor:function(){var e=this;2===this.scriptTagStatus&&null===this.instance&&this.$nextTick(function(){e.instance=window.UE.getEditor(e.randomId,e.ueditorConfig),e.instance.addListener("ready",function(){e.$emit("ready",e.instance)})})}}},a={render:function(){var e=this.$createElement;return(this._self._c||e)("script",{attrs:{id:this.randomId,name:"content",type:"text/plain"}})},staticRenderFns:[]},n=s("VU/8")(i,a,!1,null,null,null);t.a=n.exports},LMsa:function(e,t){},M93x:function(e,t,s){"use strict";var i={name:"App",mounted:function(){console.log("元数据Const",this.Const)},methods:{},computed:{key:function(){return void 0!==this.$route.name?this.$route.name+new Date:this.$route+new Date}}},a={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[this._m(0),this._v(" "),t("div",{staticClass:"whiteboard"}),this._v(" "),t("section",{staticClass:"main clearfix",attrs:{id:"index-content"}},[t("div",{attrs:{id:"ques-content"}},[t("keep-alive",[t("router-view",{key:this.key})],1)],1)])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("header",{attrs:{id:"nav"}},[t("div",{staticClass:"nav-wrap"},[t("div",{staticClass:"nav-center"},[t("div",{staticClass:"main clearfix"},[t("p",{staticClass:"nav-location fl"},[t("a",{attrs:{href:"javascript:void(0);"}},[t("img",{attrs:{src:s("/wAv"),width:"286",height:"54",alt:""}})])]),this._v(" "),t("div",{staticClass:"nav-fun fr"},[t("p",{staticClass:"top-status fr"},[t("span",[this._v("[ \n                "),t("a",{attrs:{href:"javascript:void(0);"}},[this._v("退出")]),this._v(" ]")])])])])])])])}]};var n=s("VU/8")(i,a,!1,function(e){s("LMsa")},null,null);t.a=n.exports},MiD0:function(e,t,s){"use strict";(function(e){t.a={data:function(){return{courseid:this.Const.courseData.query.d,page:{currentPage:1,pageSize:5,total:0},checkList:this.Const.checkList,qusepermissList:this.Const.qusepermissList,knowledgePointList:[],sectionProps:{value:"id",label:"name",children:"child"},bankTypeList:this.Const.bankTypeList,complexityList:this.Const.complexityList,pickerTimeOptions:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,s=new Date;s.setTime(s.getTime()-6048e5),e.$emit("pick",[s,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,s=new Date;s.setTime(s.getTime()-2592e6),e.$emit("pick",[s,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,s=new Date;s.setTime(s.getTime()-7776e6),e.$emit("pick",[s,t])}}]},questionNum:{totalbank:0,pass:0,nopass:0,waitpass:0,create:0},search:{check:"",qusepermise:"",knowledgePoint:[],bankType:"",searchCon:"",complexity:"",rangeTime:""},selectItem:{selectAll:!1,isIndeterminate:!1,quesIdList:[]},sideshowhide:!1,questionLists:[]}},mounted:function(){this.showhideSideBar(),this.getBankNums(),this.requestSections(),this.requestBankAll()},methods:{requestSections:function(){var e=this;this.$ajax.post(this.Const.apiurl,{module:"service",controller:"Course_Sections_Con",action:"queSections",courseid:this.courseid}).then(function(t){var s=t.data;0===s.status?e.knowledgePointList=s.data:e.$message({type:"info",message:s.data?s.data:"知识点数据获取失败！"})}).catch(function(t){e.$message({type:"error",message:"请求知识点数据失败！"})})},requestBankAll:function(){var e=this,t={module:"exam",controller:"Question",action:"questionList",course:this.courseid,classroom:"",section:this.search.knowledgePoint[0]?this.search.knowledgePoint[0]:"",sections:this.search.knowledgePoint[1]?this.search.knowledgePoint[1]:"",kwords:this.search.searchCon,qtype:this.search.bankType,check:this.search.check,diff:this.search.complexity,usepermise:this.search.qusepermise,page:this.page.currentPage,rows:this.page.pageSize};this.$ajax.post(this.Const.apiurl,t).then(function(t){console.log("成功",t);var s=t.data;0==s.status?(e.questionLists=s.data.data,e.page.currentPage=s.data.page.current_page,e.page.total=s.data.page.total):e.$message({type:"info",message:s.data||"请求试题列表失败！"})}).catch(function(t){e.$message({type:"error",message:"请求试题列表失败！"+t.message})})},showhideSideBar:function(){var t=this;e(window).scroll(function(){var s=e(document).scrollTop();t.sideshowhide=s>400})},fnGoTop:function(){e("html, body").animate({scrollTop:"0"})},handleSizeChange:function(e){this.page.pageSize=e,this.requestBankAll()},handleCurrentChange:function(e){this.page.currentPage=e,this.requestBankAll()},fnAddBank:function(){this.$router.push({path:"/addbank"})},fnCheckBank:function(){this.$router.push({path:"/checkbank"})},fndelete:function(e){var t=this;e&&this.$confirm("此操作将永久删除该试题, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var s={module:"exam",controller:"Question",action:"delQuestion",id:e};t.$ajax.post(t.Const.apiurl,s).then(function(e){var s=e.data;0==s.status?t.$message({type:"success",message:s.data?s.data:"删除成功！"}):t.$message({type:"info",message:s.data?s.data:"删除失败！"})}).catch(function(e){t.$message({type:"error",message:"请求错误，请检查本地网络！"})})}).catch(function(e){t.$message({type:"info",message:"取消删除"})})},fnEdit:function(e){this.$router.push({path:"/edit/"+e})},fnReadCheckMsg:function(e){this.$message({type:"error",message:"审核原因"+e})},tranformL:function(e,t){var s=t.filter(function(t){return t.value==e});return s[0]?s[0].name:""},addquesList:function(){for(quesid in questionLists)console.log(index+":"+item)},handleCheckAllChange:function(e){this.quesIdList=e?questionLists:[],console.log(e),console.log(quesIdList),this.selectItem.isIndeterminate=!0},handleCheckedCitiesChange:function(e){var t=e.length;this.selectItem.selectAll=t===this.questionLists.length,this.selectItem.isIndeterminate=t>0&&t<this.questionLists.length},getBankNums:function(){var e=this;this.$ajax.post(this.Const.apiurl,{module:"exam",controller:"Question",action:"getQuestionNum",id:this.Const.courseData.query.d}).then(function(t){var s=t.data;console.log("试题数量",t),0==s.status?(e.questionNum.totalbank=s.data?s.data.number:0,e.questionNum.pass=s.data[1]?s.data[1].number:0,e.questionNum.nopass=s.data[2]?s.data[2].number:0,e.questionNum.waitpass=s.data[3]?s.data[3].number:0,e.questionNum.create=s.data[4]?s.data[4].number:0):e.$message({type:"info",message:s.data?s.data:"获取试题数量失败！"})}).catch(function(e){})}},computed:{}}}).call(t,s("7t+N"))},NHnr:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){var t,i,a=s("//Fk"),n=s.n(a),o=s("7+uW"),l=s("M93x"),r=s("YaEn"),c=s("zL8q"),d=s.n(c),u=s("tvR6"),p=(s.n(u),s("mtWM")),h=s.n(p),f=s("QmSG"),m=(s.n(f),s("JWFR"));o.default.use(d.a),o.default.prototype.Const={userMsg:f.devConfig.userMsg?JSON.parse(f.devConfig.userMsg):null,apiurl:f.devConfig.projectRoot+"index/api/index",login:f.devConfig.projectRoot+"index/index/login",courseData:(t=f.devConfig.courseData,i=/^(?:([A-Za-z]+):)?(\/{0,3})([0-9.\-A-Za-z]+)(?::(\d+))?(?:\/([^?#]*))?(?:\?([^#]*))?(?:#(.*))?$/.exec(t),{url:i[0],scheme:i[1],slash:i[2],host:i[3],port:i[4]||"80",path:i[5],query:function(e){if(0===e.length)return{};for(var t={},s=0;s<e.length;s++){var i=e[s].split("=");2==i.length&&(t[i[0]]=decodeURIComponent(i[1].replace(/\+/g," ")))}return t}(i[6].split("&")),hash:i[7]}),optionsTab:"ABCDEFGHIGKLMNOPQRSTUVWXYZ",checkList:[{id:"",name:"全部"},{id:"1",name:"可用"},{id:"2",name:"审核未通过"},{id:"3",name:"申请审核"},{id:"4",name:"创建完成"},{id:"5",name:"调整完成"}],qusepermissList:[{value:"0",name:"通用"},{value:"1",name:"仅个人"},{value:"2",name:"仅考试"}],bankTypeList:[{value:"singlechoice",name:"单选题"},{value:"multiplechoice",name:"多选题"},{value:"truefalse",name:"判断题"},{value:"shortanswer",name:"填空题"},{value:"match",name:"匹配题"},{value:"essay",name:"简答题"},{value:"comprehensive",name:"综合解答题"},{value:"readingcomprehension",name:"阅读理解"}],complexityList:[{name:"容易",value:"1"},{name:"适中",value:"2"},{name:"困难",value:"3"}]},o.default.prototype.mytools={filterParams:function(e){var t=e,s={};for(var i in t)null!==t[i]&&""!==t[i]&&(s[i]=t[i].toString());return s},checkCookie:function(){if(e.cookie("userMsg"))return JSON.parse(e.cookie("userMsg"));window.location.href=window.localStorage.getItem("ProjectRoot")+"index/index/login",window.sessionStorage.clear(),window.localStorage.clear()}},h.a.defaults.timeout=1e4;var v=window.sessionStorage.getItem("auth_token");h.a.defaults.headers.common.Authorization=v||f.devConfig.def_auth_token,h.a.interceptors.request.use(function(e){return e},function(e){return n.a.reject(e)}),h.a.interceptors.response.use(function(e){return 0==e.data.status?window.sessionStorage.setItem("auth_token",e.data.auth_token):9999==e.data.status&&(window.location.href=f.devConfig.projectRoot+"index/index/login"),e},function(e){return n.a.reject(e)}),o.default.prototype.$ajax=h.a,o.default.config.productionTip=!1,o.default.component("VueUEditor",m.a),new o.default({el:"#app",router:r.a,components:{App:l.a},template:"<App/>"}),s("tR5l"),s("ve5z")}.call(t,s("7t+N"))},QmSG:function(e,t){var s={devConfig:{userMsg:window.localStorage.getItem("userMsg"),projectRoot:window.localStorage.getItem("ProjectRoot"),def_auth_token:window.sessionStorage.getItem("auth_token"),courseData:window.location.href},ueditor_default:{editorConTigan:"<p>请填写题干内容</p>",editorAnalysis:"<p>请填写题目考察的知识方向、解题思路等信息，便于后期交流、讨论。不会显示给考生。（默认：此题暂无题目解析）</p>"}};e.exports=s},YaEn:function(e,t,s){"use strict";var i=s("7+uW"),a=s("/ocq"),n=s("MiD0"),o={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"bankindex questbank"},[s("aside",{staticClass:"aside"},[e._m(0),e._v(" "),s("div",{staticClass:"total-bank"},[s("span",[e._v("题库总题数")]),e._v(" "),s("p",[s("i",[e._v(e._s(e.questionNum.totalbank))]),e._v("题")])]),e._v(" "),s("div",{staticClass:"total-bank pass"},[s("span",[e._v("可用题目")]),e._v(" "),s("p",[s("i",[e._v(e._s(e.questionNum.pass))]),e._v("题")])]),e._v(" "),s("div",{staticClass:"total-bank nopass"},[s("span",[e._v("审核未通过题数")]),e._v(" "),s("p",[s("i",[e._v(e._s(e.questionNum.nopass))]),e._v("题")])]),e._v(" "),s("div",{staticClass:"total-bank waitpass"},[s("span",[e._v("待审核题数")]),e._v(" "),s("p",[s("i",[e._v(e._s(e.questionNum.waitpass))]),e._v("题")])]),e._v(" "),s("div",{staticClass:"total-bank waitpass"},[s("span",[e._v("创建完成")]),e._v(" "),s("p",[s("i",[e._v(e._s(e.questionNum.create))]),e._v("题")])]),e._v(" "),s("div",{staticClass:"addbank",on:{click:e.fnAddBank}},[s("i",{staticClass:"el-icon-circle-plus"}),e._v(" "),s("span",[e._v("添加试题")])]),e._v(" "),s("div",{staticClass:"addbank",on:{click:e.fnCheckBank}},[s("i",{staticClass:"el-icon-edit-outline"}),e._v(" "),s("span",[e._v("审核试题")])])]),e._v(" "),s("section",{staticClass:"wrap"},[s("div",{staticClass:"head-condition clearfix"},[s("p",{staticClass:"item-condition"},[s("span",[e._v("审核状态: ")]),e._v(" "),s("el-select",{attrs:{placeholder:"请选择"},model:{value:e.search.check,callback:function(t){e.$set(e.search,"check",t)},expression:"search.check"}},e._l(e.checkList,function(e,t){return s("el-option",{key:t,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),s("p",{staticClass:"item-condition"},[s("span",[e._v("使用权限: ")]),e._v(" "),s("el-select",{attrs:{placeholder:"请选择"},model:{value:e.search.qusepermiss,callback:function(t){e.$set(e.search,"qusepermiss",t)},expression:"search.qusepermiss"}},e._l(e.qusepermissList,function(e,t){return s("el-option",{key:t,attrs:{label:e.name,value:e.value}})}))],1),e._v(" "),s("p",{staticClass:"item-condition"},[s("span",[e._v("知识点: ")]),e._v(" "),s("el-cascader",{attrs:{placeholder:"搜索知识点",options:e.knowledgePointList,props:e.sectionProps,filterable:"","change-on-select":""},model:{value:e.search.knowledgePoint,callback:function(t){e.$set(e.search,"knowledgePoint",t)},expression:"search.knowledgePoint"}})],1),e._v(" "),s("p",{staticClass:"item-condition"},[s("span",[e._v("题目类型: ")]),e._v(" "),s("el-select",{attrs:{placeholder:"请选择"},model:{value:e.search.bankType,callback:function(t){e.$set(e.search,"bankType",t)},expression:"search.bankType"}},[s("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),e._l(e.bankTypeList,function(e,t){return s("el-option",{key:t,attrs:{label:e.name,value:e.value}})})],2)],1),e._v(" "),s("p",{staticClass:"item-condition"},[s("span",[e._v("难易程度: ")]),e._v(" "),s("el-select",{attrs:{placeholder:"请选择"},model:{value:e.search.complexity,callback:function(t){e.$set(e.search,"complexity",t)},expression:"search.complexity"}},[s("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),e._l(e.complexityList,function(e,t){return s("el-option",{key:t,attrs:{label:e.name,value:e.value}})})],2)],1),e._v(" "),s("p",{staticClass:"item-condition"},[s("span",[e._v("出题时间: ")]),e._v(" "),s("el-date-picker",{attrs:{disabled:!0,type:"daterange",align:"right","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":e.pickerTimeOptions},model:{value:e.search.rangeTime,callback:function(t){e.$set(e.search,"rangeTime",t)},expression:"search.rangeTime"}})],1),e._v(" "),s("p",{staticClass:"item-condition"},[s("span",[e._v("内容搜索: ")]),e._v(" "),s("el-input",{attrs:{placeholder:"输入内容进行搜索"},model:{value:e.search.searchCon,callback:function(t){e.$set(e.search,"searchCon",t)},expression:"search.searchCon"}},[s("el-button",{attrs:{slot:"append",icon:"el-icon-search"},slot:"append"})],1)],1),e._v(" "),s("el-button",{staticClass:"search fl",attrs:{type:"primary"},on:{click:e.requestBankAll}},[e._v("搜索试题")])],1),e._v(" "),s("div",{staticClass:"bank-list"},[s("div",{staticClass:"optionbar"}),e._v(" "),s("div",{staticClass:"bank-list-wrap"},e._l(e.questionLists,function(t,i){return s("div",{key:i,staticClass:"bank-item clearfix"},[s("div",{staticClass:"title clearfix"},[s("div",{staticClass:"bank-stem clearfix fl"},[s("div",{staticClass:"timu fl"},[s("span",{staticClass:"num-order"},[s("i",[e._v(e._s(i+1))]),e._v("、")]),e._v(" "),s("span",{staticClass:"bank-type",domProps:{textContent:e._s(e.tranformL(t.qtype,e.bankTypeList))}}),e._v(" "),s("span",[e._v("  |   ")]),e._v(" "),s("div",{staticClass:"bank-timu-con",domProps:{innerHTML:e._s(t.questiontext)}})])]),e._v(" "),s("div",{staticClass:"opr fr"},[s("el-button-group",[s("el-button",{attrs:{type:"info",icon:"el-icon-edit",size:"mini"},on:{click:function(s){e.fnEdit(t.id)}}}),e._v(" "),s("el-button",{attrs:{type:"info",icon:"el-icon-star-off",size:"mini"}}),e._v(" "),s("el-button",{attrs:{type:"info",icon:"el-icon-delete",size:"mini"},on:{click:function(s){e.fndelete(t.id)}}})],1)],1)]),e._v(" "),t.imgs&&t.imgs.length>0?s("div",{staticClass:"pic-box"},[s("div",{staticClass:"pic"},[s("el-carousel",{attrs:{height:"150px"}},e._l(t.imgs,function(e,t){return s("el-carousel-item",{key:t},[s("img",{attrs:{d:e,src:"https://ss0.bdstatic.com/k4oZeXSm1A5BphGlnYG/newmusic/english.png",alt:""}})])}))],1)]):e._e(),e._v(" "),"singlechoice"===t.qtype||"multiplechoice"===t.qtype?s("div",{staticClass:"answer-box"},[s("ul",{staticClass:"clearfix"},e._l(t.answer,function(t,i){return s("li",{key:i,class:{"cankao-answer":"100"===t.fraction}},[s("p",[s("i",[e._v(e._s(t.tab))]),e._v(" : ")]),e._v(" "),s("div",{staticClass:"answer-item"},[s("p",{staticClass:"answer-con-option"},[e._v(e._s(t.name))]),e._v(" "),t.imgs&&t.imgs.length>0?s("img",{attrs:{src:t.imgs[0],alt:"",height:"100"}}):e._e()])])}))]):e._e(),e._v(" "),"essay"===t.qtype?s("div",{staticClass:"answer-box"},[s("div",{staticClass:"cankaodaan"},[s("span",{staticClass:"can-title"},[e._v("参考答案:  ")]),e._v(" "),s("span",{staticClass:"answer-con-option"},[e._v(e._s(t.answer))])])]):e._e(),e._v(" "),"shortanswer"===t.qtype?s("div",{staticClass:"answer-box"},[s("div",{staticClass:"cankaodaan"},[s("span",{staticClass:"can-title"},[e._v("参考答案:  ")]),e._v(" "),e._l(t.answer,function(t,i){return s("div",{key:i,staticClass:"answer-con-option"},e._l(t,function(t,i){return s("span",{key:i},[e._v(e._s(t))])}))})],2)]):e._e(),e._v(" "),"truefalse"===t.qtype?s("div",{staticClass:"answer-box"},[s("div",{staticClass:"cankaodaan"},[s("span",{staticClass:"can-title"},[e._v("参考答案:  ")]),e._v(" "),e._l(t.answer,function(t,i){return"100"==t.fraction?s("span",{key:i,staticClass:"answer-con-option"},[e._v("正 确")]):e._e()})],2)]):e._e(),e._v(" "),"readingcomprehension"===t.qtype?s("div",{staticClass:"answer-box comprehensive"},e._l(t.option,function(t,i){return s("div",{key:i,staticClass:"answer-list"},[s("div",{staticClass:"answer-name"},[s("span",[e._v("("+e._s(i+1)+")、  ")]),e._v(" "),s("span",{staticClass:"bank-type",domProps:{textContent:e._s(e.tranformL(t.qtype,e.bankTypeList))}}),e._v(" | \n                    "),s("div",{staticClass:"option-con",domProps:{innerHTML:e._s(t.questiontext)}})]),e._v(" "),"essay"===t.qtype?[s("div",{staticClass:"cankaodaan answer-con"},[s("span",{staticClass:"can-title"},[e._v("参考答案:  ")]),e._v(" "),s("span",{staticClass:"answer-con-option"},[e._v(e._s(t.answer))])])]:e._e(),e._v(" "),"singlechoice"===t.qtype||"multiplechoice"===t.qtype?[s("ul",{staticClass:"clearfix"},e._l(t.answer,function(t,i){return s("li",{key:i,class:{"cankao-answer":"100"===t.fraction}},[s("p",[s("i",[e._v(e._s(t.tab))]),e._v(" : ")]),e._v(" "),s("div",{staticClass:"answer-item"},[s("p",{staticClass:"answer-con-option"},[e._v(e._s(t.name))])])])}))]:e._e(),e._v(" "),"truefalse"===t.qtype?[s("div",{staticClass:"cankaodaan"},[s("span",{staticClass:"can-title"},[e._v("参考答案:  ")]),e._v(" "),"0"==t.answer.fraction?s("span",{staticClass:"answer-con-option"},[e._v("正 确")]):e._e(),e._v(" "),"1"==t.answer.fraction?s("span",{staticClass:"answer-con-option"},[e._v("错 误")]):e._e()])]:e._e()],2)})):e._e(),e._v(" "),"comprehensive"===t.qtype?s("div",{staticClass:"answer-box comprehensive"},e._l(t.option,function(t,i){return s("div",{key:i,staticClass:"answer-list"},[s("div",{staticClass:"answer-name"},[s("span",[e._v("("+e._s(i+1)+")、  ")]),e._v(" "),s("span",{staticClass:"bank-type",domProps:{textContent:e._s(e.tranformL(t.qtype,e.bankTypeList))}}),e._v(" | \n                    "),s("div",{staticClass:"option-con",domProps:{innerHTML:e._s(t.questiontext)}})]),e._v(" "),s("div",{staticClass:"cankaodaan answer-con"},[s("span",{staticClass:"can-title"},[e._v("参考答案:  ")]),e._v(" "),s("span",{staticClass:"answer-con-option"},[e._v(e._s(t.answer))])])])})):e._e(),e._v(" "),s("div",{staticClass:"gf"},[s("span",{staticClass:"gf-title"},[e._v("题目解析:  ")]),e._v(" "),s("div",{staticClass:"gf-content",domProps:{innerHTML:e._s(t.generalfeedback)}})]),e._v(" "),s("div",{staticClass:"note fr"},[s("p",[e._v("审核状态：\n                  "),"1"==t.check?s("span",{staticClass:"success"},[e._v("可用")]):e._e(),e._v(" "),"2"==t.check?s("span",{staticClass:"error",on:{click:function(s){e.fnReadCheckMsg(t.id)}}},[e._v("审核未通过")]):e._e(),e._v(" "),"3"==t.check?s("span",{staticClass:"danger"},[e._v("申请审核")]):e._e(),e._v(" "),"4"==t.check?s("span",{staticClass:"success"},[e._v("创建完成")]):e._e(),e._v(" "),"5"==t.check?s("span",{staticClass:"success"},[e._v("调整完成")]):e._e(),e._v(" | 课题：\n                  "),s("span",[e._v(e._s(t.section)+"/"+e._s(t.sections))]),e._v(" | 标签：\n                  "),s("span",{domProps:{textContent:e._s(e.tranformL(t.usepermise,e.qusepermissList))}}),e._v(" | 难度：\n                  "),s("span",{domProps:{textContent:e._s(e.tranformL(t.difficulty,e.complexityList))}}),e._v(" | 添加日期：\n                  "),s("span",[e._v(e._s(t.timecreated))]),e._v(" | 作者：\n                  "),s("span",[e._v(e._s(t.username))])])])])}))]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.sideshowhide,expression:"sideshowhide"}],staticClass:"flow-side-box"},[s("div",{staticClass:"go-top",attrs:{title:"回到顶部"},on:{click:e.fnGoTop}},[s("i",{staticClass:"el-icon-arrow-up"})]),e._v(" "),s("div",{staticClass:"add-bank-btn",on:{click:e.fnAddBank}},[s("i",{staticClass:"el-icon-circle-plus"}),e._v(" "),s("span",[e._v("添加试题")])])]),e._v(" "),s("div",{staticClass:"paging"},[s("el-pagination",{attrs:{background:"","current-page":e.page.currentPage,"page-sizes":[5,10,20,50],"page-size":e.page.pageSize,layout:"total,sizes,prev,pager,next,jumper",total:e.page.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("p",{staticClass:"title"},[t("i",{staticClass:"el-icon-d-arrow-right"}),this._v(" 我的题库")])}]};var l=function(e){s("KJsW")},r=s("VU/8")(n.a,o,!1,l,null,null).exports,c=s("mvHQ"),d=s.n(c),u=s("woOf"),p=s.n(u),h={data:function(){return{fileList:[].concat(this.fileOldList),fileFilter:[]}},props:{fileOldList:{type:Array,default:function(){return[]}},multiple:{type:Boolean,default:!0},accept:{type:Array,default:function(){return["jpg","png","jpeg","gif"]}},limit:{type:Number,default:-1},maxFileSize:{type:Number,default:1048576},errorMsg:{type:Object,default:function(){return{fileSizeErr:"文件大小超出约束范围",fileNumErr:"文件个数超出允许范围",fileTypeErr:"文件格式不被允许"}}},onExceed:{type:Function,default:function(e){this.$notify({title:"文件数量超出",message:"添加文件个数"+e+" - 允许文件个数"+this.limit,duration:3e3})}},onSizeError:{type:Function,default:function(e,t){this.$notify({title:"文件大小不符",message:"文件大小不超过"+this.formatFileSize(this.maxFileSize)+" - "+e.name+"("+this.formatFileSize(e.size)+")",duration:3e3})}},onTypeError:{type:Function,default:function(e,t){this.$notify({title:"文件格式不符",message:"不符合文件："+e.name+" - ("+this.accept.join("|")+")",duration:3e3})}},onSelect:{type:Function},onDeleteOld:{type:Function},onDeleteNew:{type:Function,default:function(e){this.$notify({title:"文件删除提示",message:"删除文件 - "+e.name,duration:3e3})}},object:{type:Object,default:function(){return{}}}},methods:{handleChange:function(e){var t=e.target.files||e.dataTransfer.files;this.fileFilter=this.fileFilter.concat(this.filter(t)),this.funDealFiles()},funDealFiles:function(){var e=this;this.fileList=this.fileList.concat(this.fileFilter.map(function(t){return e.getFileMd5Hash(t),{status:"ready",url:e.getObjectURL(t),name:t.name,file:t,type:(s=t.name.substring(t.name.lastIndexOf(".")+1).toLowerCase(),new RegExp(","+s+",").test(","+["jpg","png","jpeg","gif"].join()+",")?"img":"doc"),size:e.formatFileSize(t.size),summary:""};var s})),this.onSelect(this.fileList),this.object.files=this.fileList,this.fileFilter=[]},filter:function(e){var t=[];if(-1!=this.limit&&(e.length>this.limit||e.length+this.fileList.length>this.limit))this.onExceed(e.length+this.fileList.length,this.errorMsg.fileNumErr);else for(var s,i=0;s=e[i];i++)console.log(123123),s.size>this.maxFileSize?this.onSizeError(s,this.errorMsg.fileSizeErr):this.checkFileType(s.name)?this.onTypeError(s,this.errorMsg.fileTypeErr):t.push(s);return t},checkFileType:function(e){var t=e.substring(e.lastIndexOf(".")+1).toLowerCase();return!new RegExp(","+t+",").test(","+this.accept.join()+",")},getObjectURL:function(e){var t=null;return void 0!=window.createObjectURL?t=window.createObjectURL(e):window.URL?t=window.URL.createObjectURL(e):window.webkitURL&&(t=window.webkitURL.createObjectURL(e)),t},formatFileSize:function(e){return"number"!=typeof e?"":e>=1e9?(e/1e9).toFixed(2)+" GB":e>=1e6?(e/1e6).toFixed(2)+" MB":(e/1e3).toFixed(2)+" KB"},getFileMd5Hash:function(e){var t=File.prototype.slice||File.prototype.mozSlice||File.prototype.webkitSlice,s=2097152,i=Math.ceil(e.size/s),a=0,n=new SparkMD5.ArrayBuffer,o=new FileReader;function l(){var i=a*s,n=i+s>=e.size?e.size:i+s;o.readAsArrayBuffer(t.call(e,i,n))}o.onload=function(t){n.append(t.target.result),++a<i?l():e.hash=n.end()},o.onerror=function(){return!1},l()},handleDeleteNew:function(e){this.fileList=this.fileList.filter(function(t){return!t.file||e!==t.file}),this.fileFilter=this.fileFilter.filter(function(t){return t!==e}),this.object.files=this.fileList,this.onDeleteNew(e)},handleDeleteOld:function(e){this.fileList=this.fileList.filter(function(t){return!t.id||t.id!=e}),this.onDeleteOld(e)}}},f={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"yk-upload"},[s("div",{staticClass:"yk-upload-btn"},[s("input",{staticClass:"btn-file",attrs:{type:"file",multiple:e.multiple},on:{change:e.handleChange}}),e._v(" "),e._m(0)]),e._v(" "),s("div",{staticClass:"yk-preview"},[s("ul",[s("transition-group",{attrs:{name:"fade"}},e._l(e.fileList,function(t,i){return s("li",{key:i},["img"===t.type?s("img",{staticClass:"yk-picture-img",attrs:{src:t.url,alt:""}}):s("i",{staticClass:"el-icon-document yk-picture-img"}),e._v(" "),s("span",{staticClass:"yk-file-name"},[e._v(e._s(t.name))]),e._v(" "),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.summary,expression:"item.summary"}],staticClass:"yk-summary",domProps:{value:t.summary},on:{input:function(s){s.target.composing||e.$set(t,"summary",s.target.value)}}}),e._v(" "),"ready"==t.status?s("label",{staticClass:"yk-upload-list-status label-ready",on:{click:function(s){e.handleDeleteNew(t.file)}}},[s("i",{staticClass:"el-icon- yk-icon-success"})]):s("label",{staticClass:"yk-upload-list-status label-success",on:{click:function(s){e.handleDeleteOld(t.id)}}},[s("i",{staticClass:"el-icon- yk-icon-success"})])])}))],1)])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("button",{staticClass:"yk-btn"},[t("i",{staticClass:"el-icon-circle-plus"}),this._v(" 添加文件")])}]};var m=s("VU/8")(h,f,!1,function(e){s("IMje")},"data-v-dbea0bee",null).exports,v=s("QmSG");window.UEDITOR_HOME_URL=v.devConfig.projectRoot.replace("index.php/","public/static/ueditor/");var C={data:function(){return{isEdit:"edit"==this.$route.name,uselimitsList:this.Const.qusepermissList,bankTypeList:this.Const.bankTypeList,complexityList:this.Const.complexityList,sectionList:[],sectionProps:{value:"id",label:"name",children:"child"},sections:[],bankType:"singlechoice",uselimits:"0",ueditorRoot:v.devConfig.projectRoot.replace("index.php/","public/static/ueditor/"),editorConTigan:v.ueditor_default.editorConTigan,editorConTiganFile:{},editorAnalysis:v.ueditor_default.editorAnalysis,editorConAnswerRadio:{list:[{id:1,name:"",files_hash:null},{id:2,name:"",files_hash:null},{id:3,name:"",files_hash:null},{id:4,name:"",files_hash:null}],selAnswer:1},editorConAnswerCheckbox:[{id:1,value:"",fileList:[],isTrue:!0},{id:2,value:"",fileList:[],isTrue:!1},{id:3,value:"",fileList:[],isTrue:!1},{id:4,value:"",fileList:[],isTrue:!1}],editorConAnswerCompletion:{num:1,tiganMsg:"请在题目中用( )表示需要填空的部分。每一个填空单独一个( )表示。",list:[{id:1,value:""}],answerState:"说明：考生填写内容须与上方答案完全相同，才能得分。录入答案时，请不要加多余的空格等干扰字符"},editorConAnswertrueOfFalse:{list:[{id:0,value:"正确"},{id:1,value:"错误"}],selAnswer:1},editorConAnswerEssayquestion:"",editorConAnswerReadquestion:[{name:"",answer:""},{name:"",answer:""}],editorConAnswerMatchquestion:[{name:"",answer:""},{name:"",answer:""}],editorReadingDialog:!1,editorReadingcomprehension:{anType:"",anTypeList:[{name:"单选题",value:"singlechoice"},{name:"填空题",value:"shortanswer"},{name:"判断题",value:"truefalse"},{name:"简答题",value:"essay"}],questionCon:[{type:"singlechoice",name:"",list:[{id:1,name:"",files_hash:null},{id:2,name:"",files_hash:null},{id:3,name:"",files_hash:null},{id:4,name:"",files_hash:null}],selAnswer:1},{type:"truefalse",name:"",list:[{id:0,value:"正确"},{id:1,value:"错误"}],selAnswer:1},{type:"shortanswer",num:1,name:"",list:[{id:1,value:""}]},{type:"essay",name:"",answer:""}],formatData:null},complexity:"1",upload:{filesListAll:[],answerlimit:1,limit:5,maxFileSize:5242880}}},components:{"yk-upload":m},mounted:function(){this.requestSections(),console.log(this.$route),this.isEdit&&this.getBankInfo()},methods:{getBankInfo:function(){var e=this;this.$route.params.questionid&&this.$ajax.post(this.Const.apiurl,{module:"exam",controller:"Question",action:"queQuestion",id:this.$route.params.questionid}).then(function(t){switch(console.log("试题详情",t),e.bankType=t.data.data.qtype,e.complexity=t.data.data.diff,e.editorAnalysis=t.data.data.generalfeedback,e.uselimits=t.data.data.usepermise,e.editorConTigan=t.data.data.questiontext,e.editorConTiganFile=t.data.data.imgs,""!==t.data.data.section?(e.sections[0]=t.data.data.sections,e.sections[1]=t.data.data.section):e.sections[0]=t.data.data.sections,e.bankType){case"singchoice":e.editorConAnswerRadio=t.data.data.option;case"multiplechoice":e.editorConAnswerCheckbox=t.data.data.option;case"shortanswer":e.editorConAnswerCompletion=t.data.data.option;case"truefalse":e.editorConAnswertrueOfFalse=t.data.data.option;case"essay":e.editorConAnswerEssayquestion=t.data.data.option;case"match":e.editorConAnswerMatchquestion=t.data.data.option;case"comprehensive":e.editorConAnswerReadquestion=t.data.data.option;case"readingcomprehension":e.editorReadingcomprehension=t.data.data.option}}).catch(function(t){e.$message({type:"error",message:"请求出错，请检查本地网络！",onClose:function(){this.$router.go(-1)}})})},requestSections:function(){var e=this;this.$ajax.post(this.Const.apiurl,{module:"service",controller:"Course_Sections_Con",action:"queSections",courseid:this.Const.courseData.query.d}).then(function(t){var s=t.data;0===s.status?e.sectionList=s.data:e.$message({type:"info",message:s.data?s.data:"知识点数据获取失败！"})}).catch(function(t){e.$message({type:"error",message:"请求知识点数据失败！"})})},goback:function(){this.$router.go(-1)},sectionsChange:function(e){this.sections=e},bankTypeChange:function(e){this.bankType=e},editorReadyTiGan:function(e){var t=this;e.setContent(this.editorConTigan),e.addListener("blur",function(s){t.editorConTigan=e.getContent()})},editorReadyAnalysis:function(e){var t=this;e.setContent(this.editorAnalysis),e.addListener("blur",function(s){t.editorAnalysis=e.getContent()})},addEditorRadio:function(e){e.list.push({id:e.length+1,name:"答案内容",fileList:[]})},addEditorRadioquestionAN:function(e,t){console.log(e);var s=e.path[3].querySelectorAll(".myeditor");this.editorReadingcomprehension.anAnswerRadio[t].list.push({id:s.length+1,value:"答案内容",fileList:[]})},deleteAnwserRadio:function(e){this.editorConAnswerRadio.list.length>1?this.editorConAnswerRadio.list.splice(this.editorConAnswerRadio.list.indexOf(e),1):this.$notify({title:"警告",message:"至少添加一个答案！",type:"warning"})},deleteAnwserRadioAN:function(e,t){this.editorReadingcomprehension.questionCon[t].list.length>1?this.editorReadingcomprehension.questionCon[t].list.splice(this.editorReadingcomprehension.questionCon[t].list.indexOf(e),1):this.$notify({title:"警告",message:"至少添加一个答案！",type:"warning"})},addEditorCheckbox:function(){var e=this.$refs.edAnsCheckbox.querySelectorAll(".myeditor");this.editorConAnswerCheckbox.push({id:e.length+1,value:"答案内容",fileList:[]})},deleteAnwserCheckbox:function(e){this.editorConAnswerCheckbox.length>1?this.editorConAnswerCheckbox.splice(this.editorConAnswerCheckbox.indexOf(e),1):this.$notify({title:"警告",message:"至少添加一个答案！",type:"warning"})},completionNumChan:function(e,t){console.log(e,t);var s=t.list.length;if(e<s)t.list.splice(e,s-e);else if(e>s)for(var i=s+1;i<=e;i++){var a={id:i,value:"答案内容"};t.list.push(a)}},addEditorReadquestion:function(){this.editorConAnswerReadquestion.push({name:"",answer:""})},addEditorMatchquestion:function(){this.editorConAnswerMatchquestion.push({name:"",answer:""})},deleteAnwserReadquestion:function(e){this.editorConAnswerReadquestion.length>1?this.editorConAnswerReadquestion.splice(this.editorConAnswerReadquestion.indexOf(e),1):this.$notify({title:"警告",message:"至少添加一个答案！",type:"warning"})},deleteAnwserMatchquestion:function(e){this.editorConAnswerMatchquestion.length>1?this.editorConAnswerMatchquestion.splice(this.editorConAnswerMatchquestion.indexOf(e),1):this.$notify({title:"警告",message:"至少添加一个匹配项！",type:"warning"})},addDeleteItem:function(e){this.editorReadingcomprehension.questionCon=this.editorReadingcomprehension.questionCon.filter(function(t){return t!==e})},addReadingQuesSel:function(e){"singlechoice"===e?this.editorReadingcomprehension.questionCon.push({type:"singlechoice",name:"",list:[{id:1,name:"答案1",files_hash:null},{id:2,name:"答案2",files_hash:null},{id:3,name:"答案3",files_hash:null},{id:4,name:"答案4",files_hash:null}],selAnswer:1}):"truefalse"===e?this.editorReadingcomprehension.questionCon.push({type:"truefalse",name:"",list:[{id:0,value:"正确"},{id:1,value:"错误"}],selAnswer:1}):"shortanswer"===e?this.editorReadingcomprehension.questionCon.push({type:"shortanswer",num:1,name:"",list:[{id:1,value:"答案内容"}]}):"essay"===e&&this.editorReadingcomprehension.questionCon.push({type:"essay",name:"",answer:""})},handleSelected:function(e){console.log("handleSelected-fileList",e,this.fileObj)},handleDeleteOld:function(e){console.log("删除历史文件",e)},fnSubmit:function(){if(this.sections.length)if(this.editorConTigan)switch(this.bankType){case"singlechoice":case"multiplechoice":this.submitRadio(this.bankType);break;case"shortanswer":this.submitShortanswer();break;case"truefalse":this.submitTruefalse();break;case"essay":this.submitEssay();break;case"comprehensive":this.submitComprehensive();break;case"match":this.submitMatch();break;case"readingcomprehension":this.submitReading()}else this.$message({type:"warning",message:"请先设定题干内容"});else this.$message({type:"warning",message:"请先指定题目知识点"})},requestAddQuestion:function(e){var t,s=this,i=p()({module:"exam",controller:"Question",action:"addQuestion",qtype:this.bankType,course:this.Const.courseData.query.d,section:this.sections[0]?this.sections[0]:"",sections:this.sections[1]?this.sections[1]:"",diff:this.complexity.toString(),usepermise:this.uselimits,name:this.editorConTigan,generalfeedback:this.editorAnalysis===v.ueditor_default.editorAnalysis?"此题暂无题目解析":this.editorAnalysis,answerformat:"1",files_hash:(t=this.editorConTiganFile.files?this.editorConTiganFile.files:[],t.map(function(e){return e.file.hash}))},e);console.log("题提交内容",i);var a=new FormData;for(var n in i)"msglist"==n||"answer"==n||"files_hash"==n||"option"==n?a.append(n,d()(i[n])):a.append(n,i[n]);this.$ajax.post(this.Const.apiurl,a,{headers:{"Content-Type":"multipart/form-data"}}).then(function(e){var t=e.data;0==t.status?s.$message({type:"success",message:t.data?t.data:"添加成功！",onClose:function(){window.location.reload()}}):s.$message({type:"info",message:t.data?t.data:"添加失败！"})}).catch(function(e){s.$message({type:"error",message:"添加失败，请检查本地网络！"})})},submitRadio:function(e){var t,s=this,i={answer:(t=e,"singlechoice"===t?s.editorConAnswerRadio.list.map(function(e,t){return{name:e.name,fraction:e.id===s.editorConAnswerRadio.selAnswer?"100":"0",tab:s.Const.optionsTab[t],files_hash:e.files&&e.files.length?e.files[0].file.hash:""}}):"multiplechoice"===t?s.editorConAnswerCheckbox.map(function(e,t){return{name:e.value,fraction:e.isTrue?"100":"0",tab:s.Const.optionsTab[t],files_hash:e.files&&e.files.length?e.files[0].file.hash:""}}):void 0),files:function(e,t){for(var s,i=[],a=[],n=0;s=e[n];n++)if(s.files&&s.files.length)for(var o,l=0;o=s.files[l];l++)i.push(o.file);for(var r,c=0;r=t[c];c++)a.push(r.file);return i.concat(a)}("singlechoice"===e?this.editorConAnswerRadio.list:this.editorConAnswerCheckbox,this.editorConTiganFile.files?this.editorConTiganFile.files:[]),msglist:function(e,t){for(var s,i=[],a=[],n=0;s=e[n];n++)if(s.files&&s.files.length)for(var o,l=0;o=s.files[l];l++)i.push({file_hash:o.file.hash,summary:o.summary});for(var r,c=0;r=t[c];c++)a.push({file_hash:r.file.hash,summary:r.summary});return i.concat(a)}("singlechoice"===e?this.editorConAnswerRadio.list:this.editorConAnswerCheckbox,this.editorConTiganFile.files?this.editorConTiganFile.files:[])};this.requestAddQuestion(i)},submitShortanswer:function(){var e,t={answer:this.editorConAnswerCompletion.list.map(function(e){return e.value}),files:(e=this.editorConTiganFile.files?this.editorConTiganFile.files:[],e.map(function(e){return e.file})),msglist:function(e){return e.map(function(e){return{file_hash:e.file.hash,summary:e.summary}})}(this.editorConTiganFile.files?this.editorConTiganFile.files:[])};this.requestAddQuestion(t)},submitTruefalse:function(){var e,t={answer:{fraction:this.editorConAnswertrueOfFalse.selAnswer},files:(e=this.editorConTiganFile.files?this.editorConTiganFile.files:[],e.map(function(e){return e.file})),msglist:function(e){return e.map(function(e){return{file_hash:e.file.hash,summary:e.summary}})}(this.editorConTiganFile.files?this.editorConTiganFile.files:[])};this.requestAddQuestion(t)},submitMatch:function(){var e,t={option:this.editorConAnswerMatchquestion,files:(e=this.editorConTiganFile.files?this.editorConTiganFile.files:[],e.map(function(e){return e.file})),msglist:function(e){return e.map(function(e){return{file_hash:e.file.hash,summary:e.summary}})}(this.editorConTiganFile.files?this.editorConTiganFile.files:[])};this.requestAddQuestion(t)},submitEssay:function(){var e,t={answer:this.editorConAnswerEssayquestion,files:(e=this.editorConTiganFile.files?this.editorConTiganFile.files:[],e.map(function(e){return e.file})),msglist:function(e){return e.map(function(e){return{file_hash:e.file.hash,summary:e.summary}})}(this.editorConTiganFile.files?this.editorConTiganFile.files:[])};this.requestAddQuestion(t)},submitComprehensive:function(){var e,t={option:this.editorConAnswerReadquestion,files:(e=this.editorConTiganFile.files?this.editorConTiganFile.files:[],e.map(function(e){return e.file})),msglist:function(e){return e.map(function(e){return{file_hash:e.file.hash,summary:e.summary}})}(this.editorConTiganFile.files?this.editorConTiganFile.files:[])};this.requestAddQuestion(t)},addReadingFormat:function(){var e=this,t={};t.ques=this.editorReadingcomprehension.questionCon.map(function(t){var s={};return"singlechoice"===t.type?s={answer:function(s){for(var i,a=[],n=0;i=t.list[n];n++)a.push({name:i.name,fraction:i.id===t.selAnswer?"100":"0",tab:e.Const.optionsTab[n],files_hash:i.files&&i.files.length?t.files[0].file.hash:""});return a}()}:"truefalse"===t.type?s={answer:{fraction:t.selAnswer}}:"shortanswer"===t.type?s={answer:t.list.map(function(e){return e.value})}:"essay"===t.type&&(s={answer:t.answer}),p()({qtype:t.type,name:t.name,files_hash:function(e){var s=[];if(t.files&&t.files.length){for(var i=0;i<t.files.length;i++)s.push(t.files[i].file.hash);return s}return""}()},s)}),t.files=[];for(var s,i=0;s=this.editorReadingcomprehension.questionCon[i];i++){if(s.files&&s.files.length)for(var a=0;a<s.files.length;a++)t.files.push(s.files[a]);if("singlechoice"===s.type)for(var n=0;n<s.list.length;n++)s.list[n].files&&s.list[n].files.length&&t.files.push(s.list[n].files[0])}this.editorReadingcomprehension.formatData=t,console.log("formatData",t),this.editorReadingDialog=!1},submitReading:function(){if(this.editorReadingcomprehension.formatData){var e={option:this.editorReadingcomprehension.formatData.ques,files:this.editorReadingcomprehension.formatData.files.map(function(e){return e.file}).concat((t=this.editorConTiganFile.files?this.editorConTiganFile.files:[],t.map(function(e){return e.file}))),msglist:this.editorReadingcomprehension.formatData.files.map(function(e){return{file_hash:e.file.hash,summary:e.summary}}).concat(function(e){return e.map(function(e){return{file_hash:e.file.hash,summary:e.summary}})}(this.editorConTiganFile.files?this.editorConTiganFile.files:[]))};this.requestAddQuestion(e)}else this.$message({type:"warning",message:"该题目的子题目不能为空"});var t}},watch:{$route:{handler:function(e,t){console.log("$route",e)},deep:!0}}},g={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"addbank"}},[s("div",{staticClass:"title"},[e.isEdit?s("span",[s("i",{staticClass:"el-icon-d-arrow-right"}),e._v("修改试题")]):s("span",[s("i",{staticClass:"el-icon-d-arrow-right"}),e._v("添加试题")]),e._v(" "),s("div",{staticClass:"fr"},[s("el-button",{attrs:{round:"",type:"primary",plain:""},on:{click:e.goback}},[e._v("返回")])],1)]),e._v(" "),s("section",{staticClass:"add-bank-wrap"},[s("div",{staticClass:"bank-type line"},[s("div",{staticClass:"item clearfix"},[e._m(0),e._v(" "),s("div",{staticClass:"btn-op"},e._l(e.bankTypeList,function(t,i){return s("el-radio",{key:i,attrs:{disabled:e.isEdit,label:t.value,border:""},on:{change:e.bankTypeChange},model:{value:e.bankType,callback:function(t){e.bankType=t},expression:"bankType"}},[e._v(e._s(t.name))])}))]),e._v(" "),s("div",{staticClass:"item clearfix"},[e._m(1),e._v(" "),s("div",{staticClass:"btn-op"},[s("el-select",{attrs:{placeholder:"规定题目使用权限"},model:{value:e.uselimits,callback:function(t){e.uselimits=t},expression:"uselimits"}},e._l(e.uselimitsList,function(e,t){return s("el-option",{key:t,attrs:{label:e.name,value:e.value}})}))],1)]),e._v(" "),s("div",{staticClass:"item clearfix"},[e._m(2),e._v(" "),s("div",{staticClass:"btn-op"},[s("el-cascader",{attrs:{placeholder:"搜索",options:e.sectionList,props:e.sectionProps,filterable:"","change-on-select":""},on:{change:e.sectionsChange},model:{value:e.sections,callback:function(t){e.sections=t},expression:"sections"}})],1)])]),e._v(" "),s("div",{staticClass:"bank-topic line"},[s("div",{staticClass:"item clearfix"},[e._m(3),e._v(" "),s("div",{staticClass:"myeditor fl"},[s("VueUEditor",{attrs:{ueditorPath:e.ueditorRoot},on:{ready:e.editorReadyTiGan}}),e._v(" "),s("yk-upload",{attrs:{object:e.editorConTiganFile,limit:e.upload.limit,"max-file-size":e.upload.maxFileSize,"on-select":e.handleSelected,"on-delete-old":e.handleDeleteOld}})],1)]),e._v(" "),s("div",{staticClass:"item clearfix"},["singlechoice"==e.bankType?s("div",{ref:"edAnsRadio",staticClass:"sel-answer-warp"},[s("div",{staticClass:"answer clearfix"},[e._m(4),e._v(" "),s("div",{staticClass:"answer-wrap fl"},e._l(e.editorConAnswerRadio.list,function(t,i){return s("div",{key:i,staticClass:"myeditor answer-ed clearfix"},[s("el-radio",{attrs:{label:i+1},on:{change:function(s){e.editorConAnswerRadio.selAnswer=t.id}},model:{value:e.editorConAnswerRadio.selAnswer,callback:function(t){e.$set(e.editorConAnswerRadio,"selAnswer",t)},expression:"editorConAnswerRadio.selAnswer"}}),e._v(" "),s("div",{staticClass:"option"},[s("el-input",{attrs:{placeholder:"请填写正确答案",type:"textarea"},model:{value:t.name,callback:function(s){e.$set(t,"name",s)},expression:"item.name"}}),e._v(" "),s("yk-upload",{attrs:{object:t,limit:e.upload.answerlimit,"max-file-size":e.upload.maxFileSize,"on-select":e.handleSelected,"on-delete-old":e.handleDeleteOld}}),e._v(" "),s("i",{staticClass:"el-icon-close",attrs:{title:"移除"},on:{click:function(s){e.deleteAnwserRadio(t)}}})],1)],1)}))]),e._v(" "),s("div",{staticClass:"addanswer"},[s("el-button",{on:{click:function(t){e.addEditorRadio(e.editorConAnswerRadio)}}},[s("i",{staticClass:"el-icon-plus"}),e._v("添加选项")])],1)]):e._e(),e._v(" "),"multiplechoice"==e.bankType?s("div",{ref:"edAnsCheckbox",staticClass:"sel-answer-warp"},[s("div",{staticClass:"answer clearfix"},[e._m(5),e._v(" "),s("div",{staticClass:"answer-wrap fl"},e._l(e.editorConAnswerCheckbox,function(t,i){return s("div",{key:i,staticClass:"myeditor answer-ed clearfix"},[s("el-checkbox",{attrs:{label:t.id},model:{value:e.editorConAnswerCheckbox[i].isTrue,callback:function(t){e.$set(e.editorConAnswerCheckbox[i],"isTrue",t)},expression:"editorConAnswerCheckbox[index].isTrue"}}),e._v(" "),s("div",{staticClass:"option"},[s("el-input",{attrs:{placeholder:"请填写正确答案",type:"textarea"},model:{value:e.editorConAnswerCheckbox[i].value,callback:function(t){e.$set(e.editorConAnswerCheckbox[i],"value",t)},expression:"editorConAnswerCheckbox[index].value"}}),e._v(" "),s("yk-upload",{attrs:{object:t,limit:"1","max-file-size":e.upload.maxFileSize,"on-select":e.handleSelected,"on-delete-old":e.handleDeleteOld}}),e._v(" "),s("i",{staticClass:"el-icon-close",attrs:{title:"移除"},on:{click:function(s){e.deleteAnwserCheckbox(t)}}})],1)],1)}))]),e._v(" "),s("div",{staticClass:"addanswer"},[s("el-button",{on:{click:e.addEditorCheckbox}},[s("i",{staticClass:"el-icon-plus"}),e._v("添加选项")])],1)]):e._e(),e._v(" "),"shortanswer"==e.bankType?s("div",{staticClass:"sel-answer-warp tiankongnum"},[s("div",{staticClass:"clearfix"},[e._m(6),e._v(" "),s("div",{staticClass:"answer-wrap fl"},[s("el-select",{on:{change:function(t){e.completionNumChan(e.editorConAnswerCompletion.num,e.editorConAnswerCompletion)}},model:{value:e.editorConAnswerCompletion.num,callback:function(t){e.$set(e.editorConAnswerCompletion,"num",t)},expression:"editorConAnswerCompletion.num"}},e._l(10,function(e,t){return s("el-option",{key:t,attrs:{label:e,value:e}})}))],1)]),e._v(" "),s("div",{staticClass:"answer clearfix"},[e._m(7),e._v(" "),s("div",{staticClass:"answer-wrap fl"},[s("ul",{staticClass:"clearfix"},[e._l(e.editorConAnswerCompletion.list,function(t,i){return s("li",{key:i},[s("span",{staticClass:"num"},[e._v(e._s(t.id))]),e._v(" "),s("el-input",{attrs:{type:"textarea",placeholder:"请填写正确答案",rows:2},model:{value:t.value,callback:function(s){e.$set(t,"value",s)},expression:"item.value"}})],1)}),e._v(" "),e._l(e.editorConAnswerCompletion.list,function(e,t){return s("li",{key:t})})],2),e._v(" "),s("span",{staticClass:"mark"},[e._v(e._s(e.editorConAnswerCompletion.answerState))])])])]):e._e(),e._v(" "),"truefalse"==e.bankType?s("div",{staticClass:"sel-answer-warp "},[s("div",{staticClass:"answer clearfix"},[e._m(8),e._v(" "),s("div",{staticClass:"answer-wrap fl"},e._l(e.editorConAnswertrueOfFalse.list,function(t,i){return s("el-radio",{key:i,attrs:{label:t.id},model:{value:e.editorConAnswertrueOfFalse.selAnswer,callback:function(t){e.$set(e.editorConAnswertrueOfFalse,"selAnswer",t)},expression:"editorConAnswertrueOfFalse.selAnswer"}},[e._v(e._s(t.value))])}))])]):e._e(),e._v(" "),"essay"==e.bankType?s("div",{staticClass:"sel-answer-warp"},[s("div",{staticClass:"answer clearfix"},[e._m(9),e._v(" "),s("div",{staticClass:"answer-wrap fl"},[s("el-input",{attrs:{type:"textarea",placeholder:"请填写正确答案",rows:2},model:{value:e.editorConAnswerEssayquestion,callback:function(t){e.editorConAnswerEssayquestion=t},expression:"editorConAnswerEssayquestion"}})],1)])]):e._e(),e._v(" "),"comprehensive"==e.bankType?s("div",{ref:"readquestion",staticClass:"sel-answer-warp readquestion"},[s("div",{staticClass:"answer clearfix"},[e._m(10),e._v(" "),s("div",{staticClass:"answer-wrap fl"},e._l(e.editorConAnswerReadquestion,function(t,i){return s("div",{key:i,staticClass:"myeditor clearfix"},[s("el-input",{attrs:{type:"textarea",placeholder:"问题题干",rows:2},model:{value:t.name,callback:function(s){e.$set(t,"name",s)},expression:"item.name"}}),e._v(" "),s("el-input",{attrs:{type:"textarea",placeholder:"问题参考答案",rows:2},model:{value:t.answer,callback:function(s){e.$set(t,"answer",s)},expression:"item.answer"}}),e._v(" "),s("i",{staticClass:"el-icon-close",attrs:{title:"移除"},on:{click:function(s){e.deleteAnwserReadquestion(t)}}})],1)}))]),e._v(" "),s("div",{staticClass:"addanswer"},[s("el-button",{on:{click:e.addEditorReadquestion}},[s("i",{staticClass:"el-icon-plus"}),e._v("添加选项")])],1)]):e._e(),e._v(" "),"match"==e.bankType?s("div",{staticClass:"sel-answer-warp readquestion"},[s("div",{staticClass:"answer clearfix"},[e._m(11),e._v(" "),s("div",{staticClass:"answer-wrap fl"},e._l(e.editorConAnswerMatchquestion,function(t,i){return s("div",{key:i,staticClass:"myeditor clearfix"},[s("el-input",{attrs:{type:"textarea",placeholder:"母题",rows:2},model:{value:t.name,callback:function(s){e.$set(t,"name",s)},expression:"item.name"}}),e._v(" "),s("el-input",{attrs:{type:"textarea",placeholder:"公题",rows:2},model:{value:t.answer,callback:function(s){e.$set(t,"answer",s)},expression:"item.answer"}}),e._v(" "),s("i",{staticClass:"el-icon-close",attrs:{title:"移除"},on:{click:function(s){e.deleteAnwserMatchquestion(t)}}})],1)}))]),e._v(" "),s("div",{staticClass:"addanswer"},[s("el-button",{on:{click:e.addEditorMatchquestion}},[s("i",{staticClass:"el-icon-plus"}),e._v("添加选项")])],1)]):e._e(),e._v(" "),"readingcomprehension"==e.bankType?s("div",{staticClass:"sel-answer-warp readquestion"},[s("div",{staticClass:"addanswer"},[e.editorReadingcomprehension.formatData?s("el-button",{on:{click:function(t){e.editorReadingDialog=!0}}},[s("i",{staticClass:"el-icon-plus"}),e._v("查看子题目")]):s("el-button",{on:{click:function(t){e.editorReadingDialog=!0}}},[s("i",{staticClass:"el-icon-plus"}),e._v("添加子题目")])],1)]):e._e(),e._v(" "),s("div",{staticClass:"complexity clearfix"},[e._m(12),e._v(" "),s("div",{staticClass:"complexity-slider fl"},[s("el-radio-group",{attrs:{size:"small"},model:{value:e.complexity,callback:function(t){e.complexity=t},expression:"complexity"}},e._l(e.complexityList,function(t,i){return s("el-radio-button",{key:i,attrs:{label:t.value}},[e._v(e._s(t.name))])}))],1)])])]),e._v(" "),s("div",{staticClass:"analysis line"},[s("div",{staticClass:"item clearfix"},[s("p",{staticClass:"fl"},[e._v("题目解析:")]),e._v(" "),s("div",{staticClass:"myeditor fl"},[s("VueUEditor",{attrs:{ueditorPath:e.ueditorRoot},on:{ready:e.editorReadyAnalysis}})],1)])]),e._v(" "),s("div",{staticClass:"submit"},[s("el-button",{attrs:{type:"primary",round:""},on:{click:e.fnSubmit}},[e._v("提交")])],1)]),e._v(" "),s("el-dialog",{attrs:{title:"阅读理解添加题目",visible:e.editorReadingDialog,fullscreen:!0},on:{"update:visible":function(t){e.editorReadingDialog=t}}},[s("div",{staticClass:"add-type-btn"},[s("el-select",{attrs:{placeholder:"添加题目"},on:{change:e.addReadingQuesSel},model:{value:e.editorReadingcomprehension.anType,callback:function(t){e.$set(e.editorReadingcomprehension,"anType",t)},expression:"editorReadingcomprehension.anType"}},e._l(e.editorReadingcomprehension.anTypeList,function(e,t){return s("el-option",{key:t,attrs:{label:e.name,value:e.value}})}))],1),e._v(" "),s("div",{staticClass:"add-reading",attrs:{id:"add-reading"}},e._l(e.editorReadingcomprehension.questionCon,function(t,i){return s("div",{key:i,staticClass:"ques-item"},["singlechoice"===t.type?[s("p",{staticClass:"ques-type"},[e._v("单选题")]),e._v(" "),s("div",{staticClass:"add-title"},[s("p",{staticClass:"fl"},[s("i",{staticClass:"icon bitian"},[e._v("*")]),e._v("题干:")]),e._v(" "),s("el-input",{attrs:{placeholder:"请填写题干内容",rows:2,type:"textarea"},model:{value:t.name,callback:function(s){e.$set(t,"name",s)},expression:"item.name"}}),e._v(" "),s("yk-upload",{attrs:{limit:e.upload.limit,object:t,"max-file-size":e.upload.maxFileSize,"on-select":e.handleSelected,"on-delete-old":e.handleDeleteOld}})],1),e._v(" "),s("div",{staticClass:"add-answer"},[s("p",{staticClass:"fl"},[s("i",{staticClass:"icon bitian"},[e._v("*")]),e._v("选项:")]),e._v(" "),s("div",{staticClass:"wrap"},e._l(t.list,function(a,n){return s("div",{key:n,staticClass:"myeditor answer-ed clearfix"},[s("el-radio",{attrs:{label:n+1},on:{change:function(e){t.selAnswer=a.id}},model:{value:t.selAnswer,callback:function(s){e.$set(t,"selAnswer",s)},expression:"item.selAnswer"}}),e._v(" "),s("div",{staticClass:"option"},[s("el-input",{attrs:{placeholder:"请填写正确答案",type:"textarea"},model:{value:a.name,callback:function(t){e.$set(a,"name",t)},expression:"item1.name"}}),e._v(" "),s("yk-upload",{attrs:{object:a,limit:e.upload.limit,"max-file-size":e.upload.maxFileSize,"on-select":e.handleSelected,"on-delete-old":e.handleDeleteOld}}),e._v(" "),s("i",{staticClass:"el-icon-close",attrs:{title:"移除"},on:{click:function(t){e.deleteAnwserRadioAN(a,i)}}})],1)],1)}))]),e._v(" "),s("div",{staticClass:"addanswer"},[s("el-button",{on:{click:function(s){e.addEditorRadio(t)}}},[s("i",{staticClass:"el-icon-plus"}),e._v("添加选项")])],1)]:e._e(),e._v(" "),"truefalse"===t.type?[s("p",{staticClass:"ques-type"},[e._v("判断题")]),e._v(" "),s("div",{staticClass:"add-title"},[s("p",{staticClass:"fl"},[s("i",{staticClass:"icon bitian"},[e._v("*")]),e._v("题干:")]),e._v(" "),s("el-input",{attrs:{rows:2,placeholder:"请输入题干内容",type:"textarea"},model:{value:t.name,callback:function(s){e.$set(t,"name",s)},expression:"item.name"}}),e._v(" "),s("yk-upload",{attrs:{limit:e.upload.limit,object:t,"max-file-size":e.upload.maxFileSize,"on-select":e.handleSelected,"on-delete-old":e.handleDeleteOld}})],1),e._v(" "),s("div",{staticClass:"add-answer clearfix"},[s("p",{staticClass:"fl"},[s("i",{staticClass:"icon bitian"},[e._v("*")]),e._v("选项:")]),e._v(" "),s("div",{staticClass:"answer-wrap"},e._l(t.list,function(i,a){return s("el-radio",{key:a,attrs:{label:i.id},model:{value:t.selAnswer,callback:function(s){e.$set(t,"selAnswer",s)},expression:"item.selAnswer"}},[e._v(e._s(i.value))])}))])]:e._e(),e._v(" "),"shortanswer"===t.type?[s("p",{staticClass:"ques-type"},[e._v("填空题")]),e._v(" "),s("div",{staticClass:"add-title"},[s("p",{staticClass:"fl"},[s("i",{staticClass:"icon bitian"},[e._v("*")]),e._v("题干:")]),e._v(" "),s("el-input",{attrs:{rows:2,placeholder:"请输入题干内容，填空处用（）标识",type:"textarea"},model:{value:t.name,callback:function(s){e.$set(t,"name",s)},expression:"item.name"}}),e._v(" "),s("yk-upload",{attrs:{limit:e.upload.limit,object:t,"max-file-size":e.upload.maxFileSize,"on-select":e.handleSelected,"on-delete-old":e.handleDeleteOld}})],1),e._v(" "),s("div",{staticClass:"add-quesnum clearfix"},[s("p",{staticClass:"fl"},[s("i",{staticClass:"icon bitian"},[e._v("*")]),e._v("填空数量:")]),e._v(" "),s("div",{staticClass:"answer-wrap"},[s("el-select",{on:{change:function(s){e.completionNumChan(t.num,t)}},model:{value:t.num,callback:function(s){e.$set(t,"num",s)},expression:"item.num"}},e._l(10,function(e,t){return s("el-option",{key:t,attrs:{label:e,value:e}})}))],1)]),e._v(" "),s("div",{staticClass:"add-answer clearfix"},[s("p",{staticClass:"fl"},[s("i",{staticClass:"icon bitian"},[e._v("*")]),e._v("答案项:")]),e._v(" "),s("div",{staticClass:"answer-wrap fl"},[s("ul",{staticClass:"clearfix"},e._l(t.list,function(t,i){return s("li",{key:i},[s("span",{staticClass:"num"},[e._v(e._s(t.id))]),e._v(" "),s("el-input",{attrs:{placeholder:"请填写正确答案",type:"textarea",rows:2},model:{value:t.value,callback:function(s){e.$set(t,"value",s)},expression:"item1.value"}})],1)}))])])]:e._e(),e._v(" "),"essay"===t.type?[s("p",{staticClass:"ques-type"},[e._v("简答题")]),e._v(" "),s("div",{staticClass:"add-title"},[s("p",{staticClass:"fl"},[s("i",{staticClass:"icon bitian"},[e._v("*")]),e._v("题干:")]),e._v(" "),s("el-input",{attrs:{rows:2,placeholder:"请输入题干内容",type:"textarea"},model:{value:t.name,callback:function(s){e.$set(t,"name",s)},expression:"item.name"}}),e._v(" "),s("yk-upload",{attrs:{limit:e.upload.limit,object:t,"max-file-size":e.upload.maxFileSize,"on-select":e.handleSelected,"on-delete-old":e.handleDeleteOld}})],1),e._v(" "),s("div",{staticClass:"add-answer clearfix"},[s("p",{staticClass:"fl"},[s("i",{staticClass:"icon bitian"},[e._v("*")]),e._v("答案:")]),e._v(" "),s("div",{staticClass:"answer-wrap fl"},[s("el-input",{attrs:{placeholder:"请填写正确答案",type:"textarea",rows:2},model:{value:t.answer,callback:function(s){e.$set(t,"answer",s)},expression:"item.answer"}})],1)])]:e._e(),e._v(" "),s("i",{staticClass:"delete-item el-icon-close",attrs:{title:"删除该题目"},on:{click:function(s){e.addDeleteItem(t)}}})],2)})),e._v(" "),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(t){e.editorReadingDialog=!1}}},[e._v("取 消")]),e._v(" "),s("el-button",{attrs:{type:"primary"},on:{click:e.addReadingFormat}},[e._v("确 定")])],1)])],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("i",{staticClass:"icon bitian"},[this._v("*")]),this._v("题型:")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("i",{staticClass:"icon bitian"},[this._v("*")]),this._v("使用权限:")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("i",{staticClass:"icon bitian"},[this._v("*")]),this._v("知识点:")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",{staticClass:"fl"},[t("i",{staticClass:"icon bitian"},[this._v("*")]),this._v("题干:")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",{staticClass:"fl"},[t("i",{staticClass:"icon bitian"},[this._v("*")]),this._v("答案项:")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",{staticClass:"fl"},[t("i",{staticClass:"icon bitian"},[this._v("*")]),this._v("答案项:")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",{staticClass:"fl"},[t("i",{staticClass:"icon bitian"},[this._v("*")]),this._v("填空数量:")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",{staticClass:"fl"},[t("i",{staticClass:"icon bitian"},[this._v("*")]),this._v("答案项:")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",{staticClass:"fl"},[t("i",{staticClass:"icon bitian"},[this._v("*")]),this._v("选项:")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",{staticClass:"fl"},[t("i",{staticClass:"icon bitian"},[this._v("*")]),this._v("答案:")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",{staticClass:"fl"},[t("i",{staticClass:"icon bitian"},[this._v("*")]),this._v("答案:")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",{staticClass:"fl"},[t("i",{staticClass:"icon bitian"},[this._v("*")]),this._v("答案:")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",{staticClass:"fl"},[t("i",{staticClass:"icon bitian"},[this._v("*")]),this._v("难易程度:")])}]};var _=s("VU/8")(C,g,!1,function(e){s("1mP0")},null,null).exports,w={data:function(){return{imglist:[{name:"food.jpeg",url:"https://ss0.bdstatic.com/k4oZeXSm1A5BphGlnYG/newmusic/english.png"}],upLoadData:{module:"Service",controller:"asdasd",action:"123124",page:1,rows:10},hashlist:[],limit:5,maxFileSize:5242880,fileObj:{},fileOldList:[{id:"123123123",url:"https://ss0.bdstatic.com/k4oZeXSm1A5BphGlnYG/newmusic/english.png",name:"girl.jpg",file:null,hash:"",size:"",summary:"描述"}]}},props:{},components:{"yk-upload":m},methods:{fnDealFile:function(e){console.log(e.target.files)},submitUpload:function(){this.$refs.upload.submit()},handleRemove:function(e,t){console.log("handleRemove",e,t)},handlePreview:function(e){console.log("handlePreview",e),window.open(e.url,e.name)},handleBeforeUpload:function(e){this.getFileMd5Hash(e),console.log("handleBeforeUpload")},upLoadRequest:function(e){console.log("自定义上传",e),console.log(e.file,e.file.name,e.file.uid)},getFileMd5Hash:function(e){var t=this,s=File.prototype.slice||File.prototype.mozSlice||File.prototype.webkitSlice,i=2097152,a=Math.ceil(e.size/i),n=0,o=new SparkMD5.ArrayBuffer,l=new FileReader;function r(){var t=n*i,a=t+i>=e.size?e.size:t+i;l.readAsArrayBuffer(s.call(e,t,a))}l.onload=function(s){o.append(s.target.result),++n<a?r():(e.hash=o.end(),t.hashlist.push(e.hash))},l.onerror=function(){return!1},r()},handleSelected:function(e){console.log("handleSelected-fileList",e,this.fileObj)},handleDeleteOld:function(e){console.log("删除历史文件",e)}}},y={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"up-file-wrap"},[s("div",{staticClass:"up-btn"},[s("input",{staticClass:"btn-file",attrs:{type:"file",multiple:""},on:{change:e.fnDealFile}}),e._v(" "),s("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")])],1),e._v(" "),s("div",{staticClass:"preview"},[s("ul",{staticClass:"preview-list"},e._l(e.imglist,function(t,i){return s("li",{key:i},[s("a",{attrs:{href:t.url,target:"_blank"}},[s("img",{attrs:{src:t.url,alt:""}})]),s("span",{staticClass:"name"},[e._v(e._s(t.name))])])}))]),e._v(" "),s("hr"),e._v(" "),s("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{multiple:!0,data:e.upLoadData,action:"https://jsonplaceholder.typicode.com/posts/","on-preview":e.handlePreview,"on-remove":e.handleRemove,"before-upload":e.handleBeforeUpload,"http-request":e.upLoadRequest,"file-list":e.imglist,"auto-upload":!1,"list-type":"picture"}},[s("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[e._v("选取文件")]),e._v(" "),s("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"small",type:"success"},on:{click:e.submitUpload}},[e._v("上传到服务器")]),e._v(" "),s("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传jpg/png文件，且不超过500kb")])],1),e._v(" "),s("hr"),e._v(" "),s("yk-upload",{attrs:{object:e.fileObj,limit:e.limit,"file-old-list":e.fileOldList,"max-file-size":e.maxFileSize,"on-select":e.handleSelected,"on-delete-old":e.handleDeleteOld}})],1)},staticRenderFns:[]};var k=s("VU/8")(w,y,!1,function(e){s("nRXf")},"data-v-04417dd2",null).exports,b={data:function(){return{msglist:[],limit:5,maxFileSize:5242880,accept:["jpg","png","jpeg","gif","zip","ppt","pptx"],fileObj:{},fileOldList:[{id:"123123123",url:"https://ss0.bdstatic.com/k4oZeXSm1A5BphGlnYG/newmusic/english.png",name:"girl.jpg",type:"doc",file:null,hash:"",size:"",summary:"描述"}],newFiles:[]}},props:{},components:{"yk-upload":m},methods:{handleSelected:function(e){console.log("handleSelected-fileList",e,this.fileObj),this.newFiles=e.filter(function(e){return!!e.file}),console.log("this.newFiles",this.newFiles)},handleDeleteOld:function(e){console.log("删除历史文件",e)},startUpload:function(){this.msglist=this.newFiles.map(function(e){return{file_hash:e.file.hash,summary:e.summary}}),console.log("this.newFiles hash",this.msglist)}}},A={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"up-file-wrap"},[s("div",{staticClass:"start-up"},[s("el-button",{attrs:{type:"primary",round:""},on:{click:e.startUpload}},[s("i",{staticClass:"el-icon-upload"}),e._v(" 开始上传")])],1),e._v(" "),s("yk-upload",{attrs:{object:e.fileObj,limit:e.limit,accept:e.accept,"file-old-list":e.fileOldList,"max-file-size":e.maxFileSize,"on-select":e.handleSelected,"on-delete-old":e.handleDeleteOld}})],1)},staticRenderFns:[]};var x=s("VU/8")(b,A,!1,function(e){s("xHx7")},"data-v-4a6a4b6d",null).exports,q=s("8gsu"),T={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"questbank",attrs:{id:"checkbank"}},[s("aside",{staticClass:"aside"},[e._m(0),e._v(" "),s("div",{staticClass:"total-bank nopass"},[s("span",[e._v("审核未通过题数")]),e._v(" "),s("p",[s("i",[e._v(e._s(e.questionNum.nopass))]),e._v("题")])]),e._v(" "),s("div",{staticClass:"total-bank waitpass"},[s("span",[e._v("待审核题数")]),e._v(" "),s("p",[s("i",[e._v(e._s(e.questionNum.waitpass))]),e._v("题")])]),e._v(" "),s("div",{staticClass:"addbank",on:{click:function(t){e.$router.go(-1)}}},[s("i",{staticClass:"el-icon-back"}),e._v(" "),s("span",[e._v("返回")])]),e._v(" "),s("div",{staticClass:"addbank",on:{click:e.fnAddBank}},[s("i",{staticClass:"el-icon-circle-plus"}),e._v(" "),s("span",[e._v("添加试题")])])]),e._v(" "),s("section",{staticClass:"wrap"},[s("div",{staticClass:"head-condition clearfix"},[s("p",{staticClass:"item-condition"},[s("span",[e._v("审核状态: ")]),e._v(" "),s("el-select",{attrs:{placeholder:"请选择"},model:{value:e.search.check,callback:function(t){e.$set(e.search,"check",t)},expression:"search.check"}},e._l(e.checkList,function(e,t){return s("el-option",{key:t,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),s("p",{staticClass:"item-condition"},[s("span",[e._v("使用权限: ")]),e._v(" "),s("el-select",{attrs:{placeholder:"请选择"},model:{value:e.search.qusepermiss,callback:function(t){e.$set(e.search,"qusepermiss",t)},expression:"search.qusepermiss"}},e._l(e.qusepermissList,function(e,t){return s("el-option",{key:t,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),s("p",{staticClass:"item-condition"},[s("span",[e._v("知识点: ")]),e._v(" "),s("el-cascader",{attrs:{placeholder:"搜索知识点",options:e.knowledgePointList,props:e.sectionProps,filterable:"","change-on-select":""},model:{value:e.search.knowledgePoint,callback:function(t){e.$set(e.search,"knowledgePoint",t)},expression:"search.knowledgePoint"}})],1),e._v(" "),s("p",{staticClass:"item-condition"},[s("span",[e._v("题目类型: ")]),e._v(" "),s("el-select",{attrs:{placeholder:"请选择"},model:{value:e.search.bankType,callback:function(t){e.$set(e.search,"bankType",t)},expression:"search.bankType"}},[s("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),e._l(e.bankTypeList,function(e,t){return s("el-option",{key:t,attrs:{label:e.name,value:e.value}})})],2)],1),e._v(" "),s("p",{staticClass:"item-condition"},[s("span",[e._v("难易程度: ")]),e._v(" "),s("el-select",{attrs:{placeholder:"请选择"},model:{value:e.search.complexity,callback:function(t){e.$set(e.search,"complexity",t)},expression:"search.complexity"}},[s("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),e._l(e.complexityList,function(e,t){return s("el-option",{key:t,attrs:{label:e.name,value:e.value}})})],2)],1),e._v(" "),s("p",{staticClass:"item-condition"},[s("span",[e._v("出题时间: ")]),e._v(" "),s("el-date-picker",{attrs:{disabled:!0,type:"daterange",align:"right","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":e.pickerTimeOptions},model:{value:e.search.rangeTime,callback:function(t){e.$set(e.search,"rangeTime",t)},expression:"search.rangeTime"}})],1),e._v(" "),s("p",{staticClass:"item-condition"},[s("span",[e._v("内容搜索: ")]),e._v(" "),s("el-input",{attrs:{placeholder:"输入内容进行搜索"},model:{value:e.search.searchCon,callback:function(t){e.$set(e.search,"searchCon",t)},expression:"search.searchCon"}},[s("el-button",{attrs:{slot:"append",icon:"el-icon-search"},slot:"append"})],1)],1),e._v(" "),s("el-button",{staticClass:"search fl",attrs:{type:"primary"},on:{click:e.requestBankAll}},[e._v("搜索试题")])],1),e._v(" "),s("div",{staticClass:"bank-list"},[s("div",{staticClass:"optionbar"}),e._v(" "),s("div",{staticClass:"bank-list-wrap"},e._l(e.questionLists,function(t,i){return s("div",{key:i,staticClass:"bank-item clearfix"},[s("div",{staticClass:"title clearfix"},[s("div",{staticClass:"bank-stem clearfix fl"},[s("div",{staticClass:"timu fl"},[s("span",{staticClass:"num-order"},[s("i",[e._v(e._s(i+1))]),e._v("、")]),e._v(" "),s("span",{staticClass:"bank-type",domProps:{textContent:e._s(e.tranformL(t.qtype,e.bankTypeList))}}),e._v(" "),s("span",[e._v("  |   ")]),e._v(" "),s("div",{staticClass:"bank-timu-con",domProps:{innerHTML:e._s(t.questiontext)}})])]),e._v(" "),s("div",{staticClass:"opr fr"},[s("el-button-group",[s("el-button",{attrs:{type:"info",icon:"el-icon-close",size:"mini"},on:{click:function(s){e.checkNoPass(t.id)}}}),e._v(" "),s("el-button",{attrs:{type:"success",icon:"el-icon-check",size:"mini"},on:{click:function(s){e.checkPass(t.id)}}})],1)],1)]),e._v(" "),t.imgs&&t.imgs.length>0?s("div",{staticClass:"pic-box"},[s("div",{staticClass:"pic"},[s("el-carousel",{attrs:{height:"150px"}},e._l(t.imgs,function(e,t){return s("el-carousel-item",{key:t},[s("img",{attrs:{d:e,src:"https://ss0.bdstatic.com/k4oZeXSm1A5BphGlnYG/newmusic/english.png",alt:""}})])}))],1)]):e._e(),e._v(" "),"singlechoice"===t.qtype||"multiplechoice"===t.qtype?s("div",{staticClass:"answer-box"},[s("ul",{staticClass:"clearfix"},e._l(t.answer,function(t,i){return s("li",{key:i,class:{"cankao-answer":"100"===t.fraction}},[s("p",[s("i",[e._v(e._s(t.tab))]),e._v(" : ")]),e._v(" "),s("div",{staticClass:"answer-item"},[s("p",{staticClass:"answer-con-option"},[e._v(e._s(t.name))]),e._v(" "),t.imgs&&t.imgs.length>0?s("img",{attrs:{src:t.imgs[0],alt:"",height:"100"}}):e._e()])])}))]):e._e(),e._v(" "),"essay"===t.qtype?s("div",{staticClass:"answer-box"},[s("div",{staticClass:"cankaodaan"},[s("span",{staticClass:"can-title"},[e._v("参考答案:  ")]),e._v(" "),s("span",{staticClass:"answer-con-option"},[e._v(e._s(t.answer))])])]):e._e(),e._v(" "),"shortanswer"===t.qtype?s("div",{staticClass:"answer-box"},[s("div",{staticClass:"cankaodaan"},[s("span",{staticClass:"can-title"},[e._v("参考答案:  ")]),e._v(" "),e._l(t.answer,function(t,i){return s("div",{key:i,staticClass:"answer-con-option"},e._l(t,function(t,i){return s("span",{key:i},[e._v(e._s(t))])}))})],2)]):e._e(),e._v(" "),"truefalse"===t.qtype?s("div",{staticClass:"answer-box"},[s("div",{staticClass:"cankaodaan"},[s("span",{staticClass:"can-title"},[e._v("参考答案:  ")]),e._v(" "),e._l(t.answer,function(t,i){return"100"==t.fraction?s("span",{key:i,staticClass:"answer-con-option"},[e._v("正 确")]):e._e()})],2)]):e._e(),e._v(" "),"readingcomprehension"===t.qtype?s("div",{staticClass:"answer-box comprehensive"},e._l(t.option,function(t,i){return s("div",{key:i,staticClass:"answer-list"},[s("div",{staticClass:"answer-name"},[s("span",[e._v("("+e._s(i+1)+")、  ")]),e._v(" "),s("span",{staticClass:"bank-type",domProps:{textContent:e._s(e.tranformL(t.qtype,e.bankTypeList))}}),e._v(" | \n                  "),s("div",{staticClass:"option-con",domProps:{innerHTML:e._s(t.questiontext)}})]),e._v(" "),"essay"===t.qtype?[s("div",{staticClass:"cankaodaan answer-con"},[s("span",{staticClass:"can-title"},[e._v("参考答案:  ")]),e._v(" "),s("span",{staticClass:"answer-con-option"},[e._v(e._s(t.answer))])])]:e._e(),e._v(" "),"singlechoice"===t.qtype||"multiplechoice"===t.qtype?[s("ul",{staticClass:"clearfix"},e._l(t.answer,function(t,i){return s("li",{key:i,class:{"cankao-answer":"100"===t.fraction}},[s("p",[s("i",[e._v(e._s(t.tab))]),e._v(" : ")]),e._v(" "),s("div",{staticClass:"answer-item"},[s("p",{staticClass:"answer-con-option"},[e._v(e._s(t.name))])])])}))]:e._e(),e._v(" "),"truefalse"===t.qtype?[s("div",{staticClass:"cankaodaan"},[s("span",{staticClass:"can-title"},[e._v("参考答案:  ")]),e._v(" "),"0"==t.answer.fraction?s("span",{staticClass:"answer-con-option"},[e._v("正 确")]):e._e(),e._v(" "),"1"==t.answer.fraction?s("span",{staticClass:"answer-con-option"},[e._v("错 误")]):e._e()])]:e._e()],2)})):e._e(),e._v(" "),"comprehensive"===t.qtype?s("div",{staticClass:"answer-box comprehensive"},e._l(t.option,function(t,i){return s("div",{key:i,staticClass:"answer-list"},[s("div",{staticClass:"answer-name"},[s("span",[e._v("("+e._s(i+1)+")、  ")]),e._v(" "),s("span",{staticClass:"bank-type",domProps:{textContent:e._s(e.tranformL(t.qtype,e.bankTypeList))}}),e._v(" | \n                  "),s("div",{staticClass:"option-con",domProps:{innerHTML:e._s(t.questiontext)}})]),e._v(" "),s("div",{staticClass:"cankaodaan answer-con"},[s("span",{staticClass:"can-title"},[e._v("参考答案:  ")]),e._v(" "),s("span",{staticClass:"answer-con-option"},[e._v(e._s(t.answer))])])])})):e._e(),e._v(" "),s("div",{staticClass:"gf"},[s("span",{staticClass:"gf-title"},[e._v("题目解析:  ")]),e._v(" "),s("div",{staticClass:"gf-content",domProps:{innerHTML:e._s(t.generalfeedback)}})]),e._v(" "),s("div",{staticClass:"note fr"},[s("p",[e._v("审核状态：\n                "),"1"==t.check?s("span",{staticClass:"success"},[e._v("可用")]):e._e(),e._v(" "),"2"==t.check?s("span",{staticClass:"error"},[e._v("审核未通过")]):e._e(),e._v(" "),"3"==t.check?s("span",{staticClass:"danger"},[e._v("申请审核")]):e._e(),e._v(" "),"4"==t.check?s("span",{staticClass:"success"},[e._v("创建完成")]):e._e(),e._v(" "),"5"==t.check?s("span",{staticClass:"success"},[e._v("调整完成")]):e._e(),e._v(" | 课题：\n                "),s("span",[e._v(e._s(t.section)+"/"+e._s(t.sections))]),e._v(" | 标签：\n                "),s("span",{domProps:{textContent:e._s(e.tranformL(t.usepermise,e.qusepermissList))}}),e._v(" | 难度：\n                "),s("span",{domProps:{textContent:e._s(e.tranformL(t.difficulty,e.complexityList))}}),e._v(" | 添加日期：\n                "),s("span",[e._v(e._s(t.timecreated))]),e._v(" | 作者：\n                "),s("span",[e._v(e._s(t.username))])])])])}))]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.sideshowhide,expression:"sideshowhide"}],staticClass:"flow-side-box"},[s("div",{staticClass:"go-top",attrs:{title:"回到顶部"},on:{click:e.fnGoTop}},[s("i",{staticClass:"el-icon-arrow-up"})]),e._v(" "),s("div",{staticClass:"add-bank-btn",on:{click:e.fnAddBank}},[s("i",{staticClass:"el-icon-circle-plus"}),e._v(" "),s("span",[e._v("添加试题")])])]),e._v(" "),s("div",{staticClass:"paging"},[s("el-pagination",{attrs:{background:"","current-page":e.page.currentPage,"page-sizes":[5,10,20,50],"page-size":e.page.pageSize,layout:"total,sizes,prev,pager,next,jumper",total:e.page.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("p",{staticClass:"title"},[t("i",{staticClass:"el-icon-d-arrow-right"}),this._v(" 审核试题")])}]},R=s("VU/8")(q.a,T,!1,null,null,null).exports;i.default.use(a.a);t.a=new a.a({routes:[{path:"/",redirect:"/index"},{path:"/index",name:"index",component:r},{path:"/checkbank",name:"checkbank",component:R},{path:"/addbank",name:"addbank",component:_},{path:"/edit/:questionid",name:"edit",component:_},{path:"/file",name:"file",component:k},{path:"/myfile",name:"myfile",component:x}]})},nRXf:function(e,t){},tR5l:function(e,t){},tvR6:function(e,t){},ve5z:function(e,t){},xHx7:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.41c81eb864eda042a4be.js.map